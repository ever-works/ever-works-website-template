{
  "openapi": "3.0.0",
  "info": {
    "title": "Ever Works Website Template API",
    "version": "1.0.0",
    "description": "REST API documentation for the Ever Works website template. This template provides a complete foundation for building modern web applications with authentication, user management, favorites, and content management features.",
    "contact": {
      "name": "Ever Works Template",
      "url": "https://demo.ever.works"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Development server"
    },
    {
      "url": "https://demo.ever.works",
      "description": "Production server"
    }
  ],
  "paths": {
    "/api/admin/categories/{id}": {
      "get": {
        "tags": [
          "Admin - Categories"
        ],
        "summary": "Get category by ID (Admin)",
        "description": "Returns a specific category by its ID. Data is loaded from Git repository. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Category ID",
            "example": "productivity"
          }
        ],
        "responses": {
          "200": {
            "description": "Category retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Category"
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "productivity",
                    "name": "Productivity",
                    "isActive": true,
                    "itemCount": 15,
                    "createdAt": "2024-01-15T10:30:00.000Z",
                    "updatedAt": "2024-01-15T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Category not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Category not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch category"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Admin - Categories"
        ],
        "summary": "Update category (Admin)",
        "description": "Updates a category's name. Category ID cannot be changed. Data is stored in Git repository. Validates name length (2-50 chars) and checks for duplicates. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Category ID",
            "example": "productivity"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "New category name",
                    "example": "Productivity Tools",
                    "minLength": 2,
                    "maxLength": 100
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Category"
                    },
                    "message": {
                      "type": "string",
                      "example": "Category updated successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "productivity",
                    "name": "Productivity Tools",
                    "isActive": true,
                    "itemCount": 15,
                    "createdAt": "2024-01-15T10:30:00.000Z",
                    "updatedAt": "2024-01-20T14:45:00.000Z"
                  },
                  "message": "Category updated successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Validation error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Category name must be at least 2 characters"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Category not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Category not found"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Category name already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Category with this name already exists"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to update category"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin - Categories"
        ],
        "summary": "Delete category (Admin)",
        "description": "Deletes a category from the Git repository. By default performs a hard delete (permanent removal). The 'hard' query parameter is available for explicit control but both soft and hard delete perform the same operation since categories don't have an isActive field. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Category ID",
            "example": "productivity"
          },
          {
            "name": "hard",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ]
            },
            "description": "Perform hard delete (permanent) instead of soft delete",
            "example": "false"
          }
        ],
        "responses": {
          "200": {
            "description": "Category deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "examples": {
                        "soft_delete": "Category deactivated successfully",
                        "hard_delete": "Category permanently deleted"
                      }
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Category not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Category not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to delete category"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/categories/git": {
      "get": {
        "tags": [
          "Admin - Categories"
        ],
        "summary": "Get Git repository status and categories",
        "description": "Returns Git repository status and categories from the configured GitHub repository. Requires admin privileges and proper GitHub configuration.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Git repository status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "status": {
                      "type": "object",
                      "description": "Git repository status information"
                    },
                    "categories": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Category"
                      },
                      "description": "List of categories from Git repository"
                    },
                    "message": {
                      "type": "string",
                      "example": "Git repository status retrieved successfully"
                    }
                  },
                  "required": [
                    "success",
                    "status",
                    "categories",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "status": {
                    "repository": "ever-co/awesome-time-tracking-data",
                    "branch": "main",
                    "lastCommit": "abc123def456",
                    "lastCommitDate": "2024-01-20T10:30:00.000Z",
                    "lastCommitMessage": "Update categories data",
                    "isUpToDate": true
                  },
                  "categories": [
                    {
                      "id": "productivity",
                      "name": "Productivity",
                      "isActive": true,
                      "itemCount": 15,
                      "createdAt": "2024-01-15T10:30:00.000Z",
                      "updatedAt": "2024-01-15T10:30:00.000Z"
                    },
                    {
                      "id": "design",
                      "name": "Design",
                      "isActive": true,
                      "itemCount": 8,
                      "createdAt": "2024-01-16T11:20:00.000Z",
                      "updatedAt": "2024-01-16T11:20:00.000Z"
                    }
                  ],
                  "message": "Git repository status retrieved successfully"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error - Configuration or Git issues",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "config_missing": "DATA_REPOSITORY not configured. Please set DATA_REPOSITORY environment variable.",
                        "invalid_format": "Invalid DATA_REPOSITORY format. Expected: https://github.com/owner/repo",
                        "token_missing": "GitHub token not configured. Please set GITHUB_TOKEN environment variable.",
                        "git_error": "Failed to get Git repository status"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin - Categories"
        ],
        "summary": "Create category via Git",
        "description": "Creates a new category and commits it to the configured GitHub repository. Requires admin privileges and proper GitHub configuration.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Unique category identifier",
                    "example": "productivity"
                  },
                  "name": {
                    "type": "string",
                    "description": "Category display name",
                    "example": "Productivity"
                  }
                },
                "required": [
                  "id",
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category created and committed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "category": {
                      "$ref": "#/components/schemas/Category"
                    },
                    "message": {
                      "type": "string",
                      "example": "Category created and committed to Git repository"
                    }
                  },
                  "required": [
                    "success",
                    "category",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "category": {
                    "id": "productivity",
                    "name": "Productivity",
                    "isActive": true,
                    "itemCount": 0,
                    "createdAt": "2024-01-20T15:30:00.000Z",
                    "updatedAt": "2024-01-20T15:30:00.000Z"
                  },
                  "message": "Category created and committed to Git repository"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Missing required fields",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Category ID and name are required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Category already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Category already exists"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error - Configuration or Git issues",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "config_missing": "DATA_REPOSITORY not configured. Please set DATA_REPOSITORY environment variable.",
                        "invalid_format": "Invalid DATA_REPOSITORY format. Expected: https://github.com/owner/repo",
                        "token_missing": "GitHub token not configured. Please set GH_TOKEN environment variable.",
                        "git_error": "Failed to create category via Git"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/categories/reorder": {
      "put": {
        "tags": [
          "Admin - Categories"
        ],
        "summary": "Reorder categories",
        "description": "Reorders categories based on provided array of category IDs. The order in the array determines the new display order. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "categoryIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Array of category IDs in the desired order",
                    "example": [
                      "productivity",
                      "design",
                      "development",
                      "marketing"
                    ],
                    "minItems": 1
                  }
                },
                "required": [
                  "categoryIds"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Categories reordered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Categories reordered successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Categories reordered successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "not_array": "categoryIds must be an array",
                        "empty_array": "categoryIds array cannot be empty",
                        "invalid_ids": "All category IDs must be strings"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to reorder categories"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/categories": {
      "get": {
        "tags": [
          "Admin - Categories"
        ],
        "summary": "List categories (Admin)",
        "description": "Returns a paginated list of categories with optional filtering and sorting. Categories are loaded from Git repository. Supports sorting by name or id, with ascending/descending order. The includeInactive parameter is kept for backward compatibility but currently has no effect (all categories are considered active). Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "includeInactive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ]
            },
            "description": "Include inactive categories in the results",
            "example": "false"
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "id"
              ],
              "default": "name"
            },
            "description": "Field to sort by",
            "example": "name"
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "description": "Sort order",
            "example": "asc"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of categories per page",
            "example": 10
          }
        ],
        "responses": {
          "200": {
            "description": "Categories retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "categories": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Category"
                      }
                    },
                    "total": {
                      "type": "integer",
                      "description": "Total number of categories",
                      "example": 25
                    },
                    "page": {
                      "type": "integer",
                      "description": "Current page number",
                      "example": 1
                    },
                    "limit": {
                      "type": "integer",
                      "description": "Number of items per page",
                      "example": 10
                    },
                    "totalPages": {
                      "type": "integer",
                      "description": "Total number of pages",
                      "example": 3
                    }
                  },
                  "required": [
                    "success",
                    "categories",
                    "total",
                    "page",
                    "limit",
                    "totalPages"
                  ]
                },
                "example": {
                  "success": true,
                  "categories": [
                    {
                      "id": "productivity",
                      "name": "Productivity",
                      "isActive": true,
                      "itemCount": 15,
                      "createdAt": "2024-01-15T10:30:00.000Z",
                      "updatedAt": "2024-01-15T10:30:00.000Z"
                    },
                    {
                      "id": "design",
                      "name": "Design",
                      "isActive": true,
                      "itemCount": 8,
                      "createdAt": "2024-01-16T11:20:00.000Z",
                      "updatedAt": "2024-01-16T11:20:00.000Z"
                    },
                    {
                      "id": "development",
                      "name": "Development",
                      "isActive": true,
                      "itemCount": 12,
                      "createdAt": "2024-01-17T09:15:00.000Z",
                      "updatedAt": "2024-01-17T09:15:00.000Z"
                    }
                  ],
                  "total": 25,
                  "page": 1,
                  "limit": 10,
                  "totalPages": 3
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch categories"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin - Categories"
        ],
        "summary": "Create category (Admin)",
        "description": "Creates a new category in the Git repository. Both id and name are required. Validates name length (2-50 chars) and id length (3-50 chars). Checks for duplicate names and IDs. Commits changes to Git repository. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Unique category identifier (optional, auto-generated if not provided)",
                    "example": "productivity",
                    "pattern": "^[a-z0-9-]+$"
                  },
                  "name": {
                    "type": "string",
                    "description": "Category display name",
                    "example": "Productivity",
                    "minLength": 2,
                    "maxLength": 100
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Category created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "category": {
                      "$ref": "#/components/schemas/Category"
                    },
                    "message": {
                      "type": "string",
                      "example": "Category created successfully"
                    }
                  },
                  "required": [
                    "success",
                    "category",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "category": {
                    "id": "productivity",
                    "name": "Productivity",
                    "isActive": true,
                    "itemCount": 0,
                    "createdAt": "2024-01-20T15:30:00.000Z",
                    "updatedAt": "2024-01-20T15:30:00.000Z"
                  },
                  "message": "Category created successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Validation error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "missing_name": "Category name is required",
                        "invalid_format": "Category name must be at least 2 characters"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Category already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Category with this name already exists"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to create category"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/clients/{clientId}": {
      "get": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "Get client profile by ID",
        "description": "Retrieves a specific client profile by ID. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "clientId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Unique client identifier",
            "example": "client_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Client profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ClientProfile"
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "client_123abc",
                    "displayName": "John Doe",
                    "username": "johndoe",
                    "email": "john.doe@example.com",
                    "bio": "Senior Developer with 10+ years experience",
                    "jobTitle": "Lead Developer",
                    "company": "Tech Corp Inc",
                    "status": "active",
                    "plan": "premium",
                    "accountType": "business",
                    "profileImage": "https://cdn.example.com/avatars/johndoe.jpg",
                    "joinedAt": "2024-01-15T10:30:00.000Z",
                    "lastActiveAt": "2024-01-20T14:45:00.000Z",
                    "createdAt": "2024-01-15T10:30:00.000Z",
                    "updatedAt": "2024-01-20T14:45:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Client not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Client not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch client"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "Update client profile",
        "description": "Updates a specific client profile by ID. Supports partial updates. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "clientId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Unique client identifier",
            "example": "client_123abc"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "displayName": {
                    "type": "string",
                    "description": "Display name for the client",
                    "example": "John Doe Updated"
                  },
                  "username": {
                    "type": "string",
                    "description": "Unique username",
                    "example": "johndoe_updated"
                  },
                  "bio": {
                    "type": "string",
                    "description": "Client biography",
                    "example": "Senior Developer at Tech Corp"
                  },
                  "jobTitle": {
                    "type": "string",
                    "description": "Job title",
                    "example": "Lead Developer"
                  },
                  "company": {
                    "type": "string",
                    "description": "Company name",
                    "example": "Tech Corp Inc"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "suspended",
                      "trial"
                    ],
                    "description": "Client account status",
                    "example": "active"
                  },
                  "plan": {
                    "type": "string",
                    "enum": [
                      "free",
                      "standard",
                      "premium"
                    ],
                    "description": "Subscription plan",
                    "example": "premium"
                  },
                  "accountType": {
                    "type": "string",
                    "enum": [
                      "individual",
                      "business",
                      "enterprise"
                    ],
                    "description": "Account type",
                    "example": "business"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Client updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ClientProfile"
                    },
                    "message": {
                      "type": "string",
                      "example": "Client updated successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "client_123abc",
                    "displayName": "John Doe Updated",
                    "username": "johndoe_updated",
                    "email": "john.doe@example.com",
                    "bio": "Senior Developer at Tech Corp",
                    "jobTitle": "Lead Developer",
                    "company": "Tech Corp Inc",
                    "status": "active",
                    "plan": "premium",
                    "accountType": "business",
                    "profileImage": "https://cdn.example.com/avatars/johndoe.jpg",
                    "joinedAt": "2024-01-15T10:30:00.000Z",
                    "lastActiveAt": "2024-01-20T16:30:00.000Z",
                    "createdAt": "2024-01-15T10:30:00.000Z",
                    "updatedAt": "2024-01-20T16:30:00.000Z"
                  },
                  "message": "Client updated successfully"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Client not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Client not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to update client"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "Delete client profile",
        "description": "Permanently deletes a client profile by ID. This action cannot be undone. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "clientId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Unique client identifier",
            "example": "client_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Client deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Client deleted successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Client deleted successfully"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Client not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Client not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to delete client"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/clients": {
      "get": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "List client profiles",
        "description": "Returns a paginated list of client profiles with filtering options. Supports search by name/email, status filtering, plan filtering, and account type filtering. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of clients per page",
            "example": 10
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Search term for client name or email",
            "example": "john"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "suspended",
                "trial"
              ]
            },
            "description": "Filter by client status",
            "example": "active"
          },
          {
            "name": "plan",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "free",
                "standard",
                "premium"
              ]
            },
            "description": "Filter by subscription plan",
            "example": "premium"
          },
          {
            "name": "accountType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "individual",
                "business",
                "enterprise"
              ]
            },
            "description": "Filter by account type",
            "example": "business"
          },
          {
            "name": "provider",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Filter by authentication provider",
            "example": "google"
          }
        ],
        "responses": {
          "200": {
            "description": "Client profiles retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clients": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ClientProfile"
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 5
                        },
                        "total": {
                          "type": "integer",
                          "example": 47
                        },
                        "limit": {
                          "type": "integer",
                          "example": 10
                        }
                      },
                      "required": [
                        "page",
                        "totalPages",
                        "total",
                        "limit"
                      ]
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "meta"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "clients": [
                      {
                        "id": "client_123abc",
                        "displayName": "John Doe",
                        "username": "johndoe",
                        "email": "john.doe@example.com",
                        "bio": "Senior Developer with 10+ years experience",
                        "jobTitle": "Lead Developer",
                        "company": "Tech Corp Inc",
                        "status": "active",
                        "plan": "premium",
                        "accountType": "business",
                        "joinedAt": "2024-01-15T10:30:00.000Z",
                        "lastActiveAt": "2024-01-20T14:45:00.000Z"
                      },
                      {
                        "id": "client_456def",
                        "displayName": "Jane Smith",
                        "username": "janesmith",
                        "email": "jane.smith@example.com",
                        "bio": "Product Manager at StartupCo",
                        "jobTitle": "Product Manager",
                        "company": "StartupCo",
                        "status": "active",
                        "plan": "standard",
                        "accountType": "individual",
                        "joinedAt": "2024-01-16T09:15:00.000Z",
                        "lastActiveAt": "2024-01-20T16:20:00.000Z"
                      }
                    ]
                  },
                  "meta": {
                    "page": 1,
                    "totalPages": 5,
                    "total": 47,
                    "limit": 10
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch clients"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "Create client profile",
        "description": "Creates a new client profile. If the user doesn't exist, creates a new user account with a temporary password. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Client email address (required)",
                    "example": "john.doe@example.com"
                  },
                  "displayName": {
                    "type": "string",
                    "description": "Display name for the client",
                    "example": "John Doe"
                  },
                  "username": {
                    "type": "string",
                    "description": "Unique username",
                    "example": "johndoe"
                  },
                  "bio": {
                    "type": "string",
                    "description": "Client biography",
                    "example": "Senior Developer at Tech Corp"
                  },
                  "jobTitle": {
                    "type": "string",
                    "description": "Job title",
                    "example": "Senior Developer"
                  },
                  "company": {
                    "type": "string",
                    "description": "Company name",
                    "example": "Tech Corp"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "suspended",
                      "trial"
                    ],
                    "default": "active",
                    "description": "Client account status",
                    "example": "active"
                  },
                  "plan": {
                    "type": "string",
                    "enum": [
                      "free",
                      "standard",
                      "premium"
                    ],
                    "default": "free",
                    "description": "Subscription plan",
                    "example": "premium"
                  },
                  "accountType": {
                    "type": "string",
                    "enum": [
                      "individual",
                      "business",
                      "enterprise"
                    ],
                    "default": "individual",
                    "description": "Account type",
                    "example": "business"
                  }
                },
                "required": [
                  "email"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Client created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ClientProfile"
                    },
                    "message": {
                      "type": "string",
                      "example": "Client created successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "client_789ghi",
                    "displayName": "John Doe",
                    "username": "johndoe",
                    "email": "john.doe@example.com",
                    "bio": "Senior Developer at Tech Corp",
                    "jobTitle": "Senior Developer",
                    "company": "Tech Corp",
                    "status": "active",
                    "plan": "premium",
                    "accountType": "business",
                    "profileImage": null,
                    "joinedAt": "2024-01-20T16:45:00.000Z",
                    "lastActiveAt": "2024-01-20T16:45:00.000Z",
                    "createdAt": "2024-01-20T16:45:00.000Z",
                    "updatedAt": "2024-01-20T16:45:00.000Z"
                  },
                  "message": "Client created successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input or user creation failed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "examples": {
                        "missing_email": "Email is required",
                        "user_creation_failed": "Failed to create user: [error details]",
                        "invalid_user": "Failed to create or find user for client"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to create client"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/featured-items": {
      "get": {
        "tags": [
          "Admin - Featured Items"
        ],
        "summary": "List featured items (Admin)",
        "description": "Returns a paginated list of featured items with optional filtering by active status. Requires authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of items per page",
            "example": 10
          },
          {
            "name": "active",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ]
            },
            "description": "Filter by active status (true = only active items)",
            "example": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Featured items retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/FeaturedItem"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "limit": {
                          "type": "integer",
                          "example": 10
                        },
                        "total": {
                          "type": "integer",
                          "example": 25
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 3
                        },
                        "hasNext": {
                          "type": "boolean",
                          "example": true
                        },
                        "hasPrev": {
                          "type": "boolean",
                          "example": false
                        }
                      },
                      "required": [
                        "page",
                        "limit",
                        "total",
                        "totalPages",
                        "hasNext",
                        "hasPrev"
                      ]
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "pagination"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch featured items"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin - Featured Items"
        ],
        "summary": "Create featured item (Admin)",
        "description": "Features an item by adding it to the featured items list. Prevents duplicate featuring of the same item. Requires authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "itemSlug": {
                    "type": "string",
                    "description": "Unique item identifier/slug",
                    "example": "awesome-productivity-tool"
                  },
                  "itemName": {
                    "type": "string",
                    "description": "Display name of the item",
                    "example": "Awesome Productivity Tool"
                  },
                  "itemIconUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL to the item's icon/logo",
                    "example": "https://example.com/icons/productivity-tool.png"
                  },
                  "itemCategory": {
                    "type": "string",
                    "description": "Category of the item",
                    "example": "Productivity"
                  },
                  "itemDescription": {
                    "type": "string",
                    "description": "Brief description of the item",
                    "example": "A powerful tool to boost your productivity"
                  },
                  "featuredOrder": {
                    "type": "integer",
                    "description": "Display order (higher numbers appear first)",
                    "default": 0,
                    "example": 10
                  },
                  "featuredUntil": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Optional expiration date for featuring",
                    "example": "2024-12-31T23:59:59.000Z"
                  }
                },
                "required": [
                  "itemSlug",
                  "itemName"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item featured successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/FeaturedItem"
                    },
                    "message": {
                      "type": "string",
                      "example": "Item featured successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input or item already featured",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "missing_fields": "Item slug and name are required",
                        "already_featured": "Item is already featured"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to create featured item"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/current-user": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get current authenticated user",
        "description": "Returns the current authenticated user's safe profile information including ID, name, email, avatar, provider, and admin status. Returns null if no user is authenticated. This endpoint provides sanitized user data without sensitive information like password hashes or internal metadata.",
        "responses": {
          "200": {
            "description": "Current user information retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "description": "Authenticated user information",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "User unique identifier",
                          "example": "user_123abc"
                        },
                        "name": {
                          "type": "string",
                          "nullable": true,
                          "description": "User's full name",
                          "example": "John Doe"
                        },
                        "email": {
                          "type": "string",
                          "format": "email",
                          "nullable": true,
                          "description": "User's email address",
                          "example": "john.doe@example.com"
                        },
                        "image": {
                          "type": "string",
                          "format": "uri",
                          "nullable": true,
                          "description": "User's profile image URL",
                          "example": "https://example.com/avatars/john.jpg"
                        },
                        "provider": {
                          "type": "string",
                          "nullable": true,
                          "description": "Authentication provider used",
                          "example": "google"
                        },
                        "isAdmin": {
                          "type": "boolean",
                          "description": "Whether the user has admin privileges",
                          "example": false
                        }
                      },
                      "required": [
                        "id",
                        "isAdmin"
                      ]
                    },
                    {
                      "type": "null",
                      "description": "No authenticated user"
                    }
                  ]
                },
                "examples": {
                  "authenticated": {
                    "summary": "Authenticated user",
                    "value": {
                      "id": "user_2a3b4c5d",
                      "name": "John Doe",
                      "email": "john.doe@example.com",
                      "image": "https://lh3.googleusercontent.com/a/example",
                      "provider": "google",
                      "isAdmin": false
                    }
                  },
                  "unauthenticated": {
                    "summary": "No authenticated user",
                    "value": null
                  },
                  "authenticated_user": {
                    "summary": "Authenticated user",
                    "value": {
                      "id": "user_123abc",
                      "name": "John Doe",
                      "email": "john.doe@example.com",
                      "image": "https://example.com/avatars/john.jpg",
                      "provider": "google",
                      "isAdmin": false
                    }
                  },
                  "authenticated_admin": {
                    "summary": "Authenticated admin user",
                    "value": {
                      "id": "user_456def",
                      "name": "Jane Admin",
                      "email": "jane.admin@example.com",
                      "image": "https://example.com/avatars/jane.jpg",
                      "provider": "credentials",
                      "isAdmin": true
                    }
                  },
                  "oauth_user": {
                    "summary": "OAuth user with minimal info",
                    "value": {
                      "id": "user_789ghi",
                      "name": "GitHub User",
                      "email": "github.user@example.com",
                      "image": "https://avatars.githubusercontent.com/u/123456",
                      "provider": "github",
                      "isAdmin": false
                    }
                  },
                  "credentials_user": {
                    "summary": "Credentials user",
                    "value": {
                      "id": "user_101jkl",
                      "name": "Local User",
                      "email": "local.user@example.com",
                      "image": null,
                      "provider": "credentials",
                      "isAdmin": false
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/favorites": {
      "get": {
        "tags": [
          "Favorites"
        ],
        "summary": "Get user's favorites",
        "description": "Returns a list of all items favorited by the authenticated user, ordered by creation date (oldest first). Each favorite includes item metadata like name, icon, and category for display purposes. Requires user authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User favorites retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "favorites": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "Favorite record ID",
                            "example": "fav_123abc"
                          },
                          "userId": {
                            "type": "string",
                            "description": "User ID who favorited the item",
                            "example": "user_456def"
                          },
                          "itemSlug": {
                            "type": "string",
                            "description": "Item slug identifier",
                            "example": "awesome-productivity-tool"
                          },
                          "itemName": {
                            "type": "string",
                            "description": "Item display name",
                            "example": "Awesome Productivity Tool"
                          },
                          "itemIconUrl": {
                            "type": "string",
                            "nullable": true,
                            "description": "Item icon URL",
                            "example": "https://example.com/icons/tool.png"
                          },
                          "itemCategory": {
                            "type": "string",
                            "nullable": true,
                            "description": "Item category",
                            "example": "productivity"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "description": "When the item was favorited",
                            "example": "2024-01-20T10:30:00.000Z"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true,
                            "description": "When the favorite was last updated",
                            "example": "2024-01-20T10:30:00.000Z"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "favorites"
                  ]
                },
                "example": {
                  "success": true,
                  "favorites": [
                    {
                      "id": "fav_123abc",
                      "userId": "user_456def",
                      "itemSlug": "awesome-productivity-tool",
                      "itemName": "Awesome Productivity Tool",
                      "itemIconUrl": "https://example.com/icons/tool.png",
                      "itemCategory": "productivity",
                      "createdAt": "2024-01-20T10:30:00.000Z",
                      "updatedAt": "2024-01-20T10:30:00.000Z"
                    },
                    {
                      "id": "fav_789ghi",
                      "userId": "user_456def",
                      "itemSlug": "great-design-app",
                      "itemName": "Great Design App",
                      "itemIconUrl": "https://example.com/icons/design.png",
                      "itemCategory": "design",
                      "createdAt": "2024-01-19T15:20:00.000Z",
                      "updatedAt": "2024-01-19T15:20:00.000Z"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch favorites"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Favorites"
        ],
        "summary": "Add item to favorites",
        "description": "Adds an item to the authenticated user's favorites list. Includes duplicate checking to prevent adding the same item twice. Stores item metadata for quick access without needing to query the items table. Requires user authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "itemSlug": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Unique item slug identifier",
                    "example": "awesome-productivity-tool"
                  },
                  "itemName": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Item display name",
                    "example": "Awesome Productivity Tool"
                  },
                  "itemIconUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "Optional item icon URL",
                    "example": "https://example.com/icons/tool.png"
                  },
                  "itemCategory": {
                    "type": "string",
                    "description": "Optional item category",
                    "example": "productivity"
                  }
                },
                "required": [
                  "itemSlug",
                  "itemName"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Item added to favorites successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "favorite": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Generated favorite record ID",
                          "example": "fav_123abc"
                        },
                        "userId": {
                          "type": "string",
                          "description": "User ID who favorited the item",
                          "example": "user_456def"
                        },
                        "itemSlug": {
                          "type": "string",
                          "description": "Item slug identifier",
                          "example": "awesome-productivity-tool"
                        },
                        "itemName": {
                          "type": "string",
                          "description": "Item display name",
                          "example": "Awesome Productivity Tool"
                        },
                        "itemIconUrl": {
                          "type": "string",
                          "nullable": true,
                          "description": "Item icon URL",
                          "example": "https://example.com/icons/tool.png"
                        },
                        "itemCategory": {
                          "type": "string",
                          "nullable": true,
                          "description": "Item category",
                          "example": "productivity"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "When the item was favorited",
                          "example": "2024-01-20T10:30:00.000Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "description": "When the favorite was last updated",
                          "example": "2024-01-20T10:30:00.000Z"
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "favorite"
                  ]
                },
                "example": {
                  "success": true,
                  "favorite": {
                    "id": "fav_2a3b4c5d",
                    "userId": "user_2a3b4c5d",
                    "itemSlug": "awesome-productivity-tool",
                    "itemName": "Awesome Productivity Tool",
                    "itemIconUrl": "https://cdn.example.com/icons/productivity-tool.png",
                    "itemCategory": "productivity",
                    "createdAt": "2024-01-15T10:30:00.123Z",
                    "updatedAt": "2024-01-15T10:30:00.123Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Invalid request data"
                    },
                    "details": {
                      "type": "string",
                      "description": "Detailed validation error message",
                      "example": "itemSlug is required and must be a non-empty string"
                    }
                  }
                },
                "examples": {
                  "validation_error": {
                    "summary": "Zod validation failed",
                    "value": {
                      "success": false,
                      "error": "Invalid request data",
                      "details": "Required at \"itemSlug\""
                    }
                  },
                  "missing_field": {
                    "summary": "Required field missing",
                    "value": {
                      "success": false,
                      "error": "Invalid request data",
                      "details": "String must contain at least 1 character(s) at \"itemName\""
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Item already in favorites",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Item is already in favorites"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Item is already in favorites"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to add favorite"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/favorites/{itemSlug}": {
      "delete": {
        "tags": [
          "Favorites"
        ],
        "summary": "Remove item from favorites",
        "description": "Removes an item from the current user's favorites list. First verifies that the favorite exists and belongs to the authenticated user before deletion. Returns 404 if the favorite doesn't exist or doesn't belong to the user.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "itemSlug",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Item slug identifier to remove from favorites",
            "example": "awesome-productivity-tool"
          }
        ],
        "responses": {
          "200": {
            "description": "Item removed from favorites successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Favorite removed successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Favorite removed successfully"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Favorite not found or doesn't belong to user",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Favorite not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Favorite not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to remove favorite"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/featured-items": {
      "get": {
        "tags": [
          "Featured Items"
        ],
        "summary": "Get featured items",
        "description": "Returns a list of active featured items for public display on the website. Automatically filters out inactive items and optionally excludes expired items based on their featured_until date. Items are sorted by featured order and date for optimal presentation. This is a public endpoint that doesn't require authentication.",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 6
            },
            "description": "Maximum number of featured items to return",
            "example": 6
          },
          {
            "name": "includeExpired",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "Whether to include items past their featured_until date",
            "example": false
          }
        ],
        "responses": {
          "200": {
            "description": "Featured items retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "Featured item ID",
                            "example": "featured_123abc"
                          },
                          "itemSlug": {
                            "type": "string",
                            "description": "Item slug identifier",
                            "example": "awesome-productivity-tool"
                          },
                          "itemName": {
                            "type": "string",
                            "description": "Item display name",
                            "example": "Awesome Productivity Tool"
                          },
                          "itemDescription": {
                            "type": "string",
                            "nullable": true,
                            "description": "Item description for featured display",
                            "example": "Boost your productivity with this amazing tool"
                          },
                          "itemIconUrl": {
                            "type": "string",
                            "nullable": true,
                            "description": "Item icon URL",
                            "example": "https://example.com/icons/tool.png"
                          },
                          "itemImageUrl": {
                            "type": "string",
                            "nullable": true,
                            "description": "Featured image URL",
                            "example": "https://example.com/featured/tool-banner.jpg"
                          },
                          "featuredOrder": {
                            "type": "integer",
                            "description": "Display order (higher = more prominent)",
                            "example": 10
                          },
                          "isActive": {
                            "type": "boolean",
                            "description": "Whether the item is currently featured",
                            "example": true
                          },
                          "featuredAt": {
                            "type": "string",
                            "format": "date-time",
                            "description": "When the item was featured",
                            "example": "2024-01-20T10:30:00.000Z"
                          },
                          "featuredUntil": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true,
                            "description": "When the featured status expires (null = no expiration)",
                            "example": "2024-02-20T10:30:00.000Z"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "description": "When the featured item record was created",
                            "example": "2024-01-20T10:30:00.000Z"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true,
                            "description": "When the featured item was last updated",
                            "example": "2024-01-20T10:30:00.000Z"
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer",
                      "description": "Number of featured items returned",
                      "example": 3
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "count"
                  ]
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "id": "featured_123abc",
                      "itemSlug": "awesome-productivity-tool",
                      "itemName": "Awesome Productivity Tool",
                      "itemDescription": "Boost your productivity with this amazing tool",
                      "itemIconUrl": "https://example.com/icons/tool.png",
                      "itemImageUrl": "https://example.com/featured/tool-banner.jpg",
                      "featuredOrder": 10,
                      "isActive": true,
                      "featuredAt": "2024-01-20T10:30:00.000Z",
                      "featuredUntil": "2024-02-20T10:30:00.000Z",
                      "createdAt": "2024-01-20T10:30:00.000Z",
                      "updatedAt": "2024-01-20T10:30:00.000Z"
                    },
                    {
                      "id": "featured_456def",
                      "itemSlug": "great-design-app",
                      "itemName": "Great Design App",
                      "itemDescription": "Create stunning designs effortlessly",
                      "itemIconUrl": "https://example.com/icons/design.png",
                      "itemImageUrl": "https://example.com/featured/design-banner.jpg",
                      "featuredOrder": 8,
                      "isActive": true,
                      "featuredAt": "2024-01-19T15:20:00.000Z",
                      "featuredUntil": null,
                      "createdAt": "2024-01-19T15:20:00.000Z",
                      "updatedAt": "2024-01-19T15:20:00.000Z"
                    },
                    {
                      "id": "featured_789ghi",
                      "itemSlug": "useful-utility",
                      "itemName": "Useful Utility",
                      "itemDescription": "A handy utility for everyday tasks",
                      "itemIconUrl": "https://example.com/icons/utility.png",
                      "itemImageUrl": null,
                      "featuredOrder": 5,
                      "isActive": true,
                      "featuredAt": "2024-01-18T09:15:00.000Z",
                      "featuredUntil": "2024-03-18T09:15:00.000Z",
                      "createdAt": "2024-01-18T09:15:00.000Z",
                      "updatedAt": "2024-01-18T09:15:00.000Z"
                    }
                  ],
                  "count": 3
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch featured items"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/verify-recaptcha": {
      "post": {
        "tags": [
          "Utilities"
        ],
        "summary": "Verify reCAPTCHA token",
        "description": "Verifies a reCAPTCHA token with Google's reCAPTCHA API. Returns verification result with score (for v3), action, hostname, and timestamp. In development mode without RECAPTCHA_SECRET_KEY, always returns success=true. No authentication required.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RecaptchaRequest"
              },
              "example": {
                "token": "03AGdBq25SiZhbYhlXfzuVqWIMnOHGOxvSz1HiMUcE..."
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "reCAPTCHA verification result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecaptchaResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Successful verification (reCAPTCHA v3)",
                    "value": {
                      "success": true,
                      "score": 0.9,
                      "action": "submit_form",
                      "hostname": "example.com",
                      "challenge_ts": "2024-01-15T10:30:00.123Z",
                      "error_codes": null
                    }
                  },
                  "failure": {
                    "summary": "Failed verification",
                    "value": {
                      "success": false,
                      "score": null,
                      "action": null,
                      "hostname": "example.com",
                      "challenge_ts": "2024-01-15T10:30:00.123Z",
                      "error_codes": [
                        "invalid-input-response",
                        "timeout-or-duplicate"
                      ]
                    }
                  },
                  "development": {
                    "summary": "Development mode (no secret key)",
                    "value": {
                      "success": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing or invalid reCAPTCHA token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "ReCAPTCHA token is required"
                }
              }
            }
          },
          "500": {
            "description": "Server error - reCAPTCHA not configured or API request failed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "not_configured": {
                    "summary": "reCAPTCHA not configured",
                    "value": {
                      "success": false,
                      "error": "ReCAPTCHA not configured"
                    }
                  },
                  "api_failed": {
                    "summary": "Google API request failed",
                    "value": {
                      "success": false,
                      "error": "Failed to verify ReCAPTCHA"
                    }
                  },
                  "verification_failed": {
                    "summary": "General verification failure",
                    "value": {
                      "success": false,
                      "error": "Verification failed"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/version": {
      "get": {
        "tags": [
          "Version"
        ],
        "summary": "Get version information",
        "description": "Returns version information including git commit details (hash, date, message, author), repository info, current branch, and last sync timestamp. Attempts to sync repository before reading data. Includes cache headers (ETag, Last-Modified) for optimal performance. No authentication required.",
        "responses": {
          "200": {
            "description": "Version information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionInfo"
                },
                "example": {
                  "commit": "a1b2c3d",
                  "date": "2024-01-15T10:30:00.123Z",
                  "message": " feat: add version API with comprehensive error handling",
                  "author": "John Developer",
                  "repository": "https://github.com/ever-co/ever-works-website-template",
                  "lastSync": "2024-01-15T10:35:15.456Z",
                  "branch": "main"
                }
              }
            }
          },
          "404": {
            "description": "Repository not found or no commits",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionErrorResponse"
                },
                "examples": {
                  "repository_not_found": {
                    "summary": "Git repository not found",
                    "value": {
                      "error": "Data repository not found",
                      "code": "REPOSITORY_NOT_FOUND",
                      "timestamp": "2024-01-15T10:30:00.123Z",
                      "details": "Git directory not found at: /path/to/repo"
                    }
                  },
                  "no_commits": {
                    "summary": "Repository exists but has no commits",
                    "value": {
                      "error": "No commits found in repository",
                      "code": "NO_COMMITS",
                      "timestamp": "2024-01-15T10:30:00.123Z",
                      "details": "Repository exists but contains no commits"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error - git error, validation error, or internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionErrorResponse"
                },
                "examples": {
                  "git_error": {
                    "summary": "Git operation failed",
                    "value": {
                      "error": "Failed to retrieve commit information",
                      "code": "GIT_ERROR",
                      "timestamp": "2024-01-15T10:30:00.123Z",
                      "details": "fatal: not a git repository"
                    }
                  },
                  "validation_error": {
                    "summary": "Invalid commit data",
                    "value": {
                      "error": "Invalid commit data",
                      "code": "VALIDATION_ERROR",
                      "timestamp": "2024-01-15T10:30:00.123Z",
                      "details": "Commit is missing required fields"
                    }
                  },
                  "internal_error": {
                    "summary": "Unexpected server error",
                    "value": {
                      "error": "Internal server error",
                      "code": "INTERNAL_ERROR",
                      "timestamp": "2024-01-15T10:30:00.123Z",
                      "details": "Unknown error occurred"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/stripe/payment-methods/list": {
      "get": {
        "tags": [
          "Payments - Stripe"
        ],
        "summary": "List payment methods",
        "description": "Returns a list of the current user's saved payment methods from Stripe",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of payment methods",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentMethodsResponse"
                },
                "examples": {
                  "with_methods": {
                    "summary": "User with payment methods",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "pm_1234567890",
                          "type": "card",
                          "card": {
                            "brand": "visa",
                            "last4": "4242",
                            "funding": "credit",
                            "country": "US"
                          },
                          "billing_details": {
                            "name": "John Doe",
                            "email": "john@example.com"
                          },
                          "created": 1640995200,
                          "is_default": true
                        }
                      ],
                      "message": "Payment methods retrieved successfully"
                    }
                  },
                  "no_methods": {
                    "summary": "User with no payment methods",
                    "value": {
                      "success": true,
                      "data": [],
                      "message": "No payment methods found"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "Customer not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Customer not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/items/{itemId}/comments": {
      "get": {
        "tags": [
          "Items - Comments"
        ],
        "summary": "Get item comments",
        "description": "Returns all comments for a specific item including user information, ratings, and timestamps. Comments are returned with associated user profiles for display purposes. This is a public endpoint that doesn't require authentication.",
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Item ID to get comments for",
            "example": "item_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Comments retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "comments": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "Comment ID",
                            "example": "comment_123abc"
                          },
                          "content": {
                            "type": "string",
                            "description": "Comment content",
                            "example": "This is an amazing tool! Really helped boost my productivity."
                          },
                          "rating": {
                            "type": "integer",
                            "minimum": 1,
                            "maximum": 5,
                            "description": "User rating for the item",
                            "example": 5
                          },
                          "userId": {
                            "type": "string",
                            "description": "ID of the user who wrote the comment",
                            "example": "client_456def"
                          },
                          "itemId": {
                            "type": "string",
                            "description": "ID of the item being commented on",
                            "example": "item_123abc"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "description": "When the comment was created",
                            "example": "2024-01-20T10:30:00.000Z"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true,
                            "description": "When the comment was last updated",
                            "example": "2024-01-20T10:30:00.000Z"
                          },
                          "deletedAt": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true,
                            "description": "When the comment was deleted (null if not deleted)",
                            "example": null
                          },
                          "user": {
                            "type": "object",
                            "description": "User profile information",
                            "properties": {
                              "id": {
                                "type": "string",
                                "example": "client_456def"
                              },
                              "name": {
                                "type": "string",
                                "example": "John Doe"
                              },
                              "email": {
                                "type": "string",
                                "example": "john.doe@example.com"
                              },
                              "avatar": {
                                "type": "string",
                                "nullable": true,
                                "example": "https://example.com/avatars/john.jpg"
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "comments"
                  ]
                },
                "example": {
                  "success": true,
                  "comments": [
                    {
                      "id": "comment_123abc",
                      "content": "This is an amazing tool! Really helped boost my productivity.",
                      "rating": 5,
                      "userId": "client_456def",
                      "itemId": "item_123abc",
                      "createdAt": "2024-01-20T10:30:00.000Z",
                      "updatedAt": "2024-01-20T10:30:00.000Z",
                      "deletedAt": null,
                      "user": {
                        "id": "client_456def",
                        "name": "John Doe",
                        "email": "john.doe@example.com",
                        "avatar": "https://example.com/avatars/john.jpg"
                      }
                    },
                    {
                      "id": "comment_789ghi",
                      "content": "Good tool, but could use some improvements in the UI.",
                      "rating": 4,
                      "userId": "client_789ghi",
                      "itemId": "item_123abc",
                      "createdAt": "2024-01-19T15:20:00.000Z",
                      "updatedAt": "2024-01-19T15:20:00.000Z",
                      "deletedAt": null,
                      "user": {
                        "id": "client_789ghi",
                        "name": "Jane Smith",
                        "email": "jane.smith@example.com",
                        "avatar": null
                      }
                    }
                  ]
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch comments"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch comments"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Items - Comments"
        ],
        "summary": "Create item comment",
        "description": "Creates a new comment for a specific item with a rating. Requires user authentication and a valid client profile. The comment content is required and the rating must be between 1 and 5. Returns the created comment with user information.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Item ID to comment on",
            "example": "item_123abc"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Comment content (required, non-empty)",
                    "example": "This is an amazing tool! Really helped boost my productivity."
                  },
                  "rating": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5,
                    "description": "Rating for the item (1-5 stars)",
                    "example": 5
                  }
                },
                "required": [
                  "content",
                  "rating"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Comment created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "comment": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Generated comment ID",
                          "example": "comment_123abc"
                        },
                        "content": {
                          "type": "string",
                          "description": "Comment content",
                          "example": "This is an amazing tool! Really helped boost my productivity."
                        },
                        "rating": {
                          "type": "integer",
                          "minimum": 1,
                          "maximum": 5,
                          "description": "User rating for the item",
                          "example": 5
                        },
                        "userId": {
                          "type": "string",
                          "description": "ID of the user who wrote the comment",
                          "example": "client_456def"
                        },
                        "itemId": {
                          "type": "string",
                          "description": "ID of the item being commented on",
                          "example": "item_123abc"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "When the comment was created",
                          "example": "2024-01-20T10:30:00.000Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "description": "When the comment was last updated",
                          "example": "2024-01-20T10:30:00.000Z"
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "description": "When the comment was deleted (null if not deleted)",
                          "example": null
                        },
                        "user": {
                          "type": "object",
                          "description": "User profile information",
                          "properties": {
                            "id": {
                              "type": "string",
                              "example": "client_456def"
                            },
                            "name": {
                              "type": "string",
                              "example": "John Doe"
                            },
                            "email": {
                              "type": "string",
                              "example": "john.doe@example.com"
                            },
                            "avatar": {
                              "type": "string",
                              "nullable": true,
                              "example": "https://example.com/avatars/john.jpg"
                            }
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "comment"
                  ]
                },
                "example": {
                  "success": true,
                  "comment": {
                    "id": "comment_123abc",
                    "content": "This is an amazing tool! Really helped boost my productivity.",
                    "rating": 5,
                    "userId": "client_456def",
                    "itemId": "item_123abc",
                    "createdAt": "2024-01-20T10:30:00.000Z",
                    "updatedAt": "2024-01-20T10:30:00.000Z",
                    "deletedAt": null,
                    "user": {
                      "id": "client_456def",
                      "name": "John Doe",
                      "email": "john.doe@example.com",
                      "avatar": "https://example.com/avatars/john.jpg"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input data",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "empty_content": "Content is required",
                        "invalid_rating": "Rating must be between 1 and 5"
                      }
                    }
                  }
                },
                "examples": {
                  "empty_content": {
                    "summary": "Empty content",
                    "value": {
                      "success": false,
                      "error": "Content is required"
                    }
                  },
                  "invalid_rating": {
                    "summary": "Invalid rating",
                    "value": {
                      "success": false,
                      "error": "Rating must be between 1 and 5"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Authentication required"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Authentication required"
                }
              }
            }
          },
          "404": {
            "description": "Client profile not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Client profile not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Client profile not found"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to create comment"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Failed to create comment"
                }
              }
            }
          }
        }
      }
    },
    "/api/items/{itemId}/votes": {
      "get": {
        "tags": [
          "Items & Content"
        ],
        "summary": "Get item votes",
        "description": "Returns vote count and current user's vote status for an item",
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "description": "The ID of the item",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vote information for the item",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VoteResponse"
                },
                "examples": {
                  "with_user_vote": {
                    "summary": "User has voted",
                    "value": {
                      "success": true,
                      "count": 42,
                      "userVote": "up"
                    }
                  },
                  "no_user_vote": {
                    "summary": "User hasn't voted",
                    "value": {
                      "success": true,
                      "count": 42,
                      "userVote": null
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "post": {
        "tags": [
          "Items & Content"
        ],
        "summary": "Vote on item",
        "description": "Creates or updates a vote for an item. Replaces any existing vote by the user.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "description": "The ID of the item",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VoteRequest"
              },
              "example": {
                "type": "up"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vote recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VoteResponse"
                },
                "example": {
                  "success": true,
                  "count": 43,
                  "userVote": "up"
                }
              }
            }
          },
          "400": {
            "description": "Invalid vote type",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Invalid vote type. Must be 'up' or 'down'"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "Client profile not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Client profile not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "delete": {
        "tags": [
          "Items & Content"
        ],
        "summary": "Remove vote from item",
        "description": "Removes the current user's vote from an item",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "description": "The ID of the item",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vote removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VoteResponse"
                },
                "example": {
                  "success": true,
                  "count": 42,
                  "userVote": null
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "Client profile not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Client profile not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/items/{itemId}/votes/count": {
      "get": {
        "tags": [
          "Items - Votes"
        ],
        "summary": "Get vote count for item",
        "description": "Returns the total vote count for a specific item. This is a public endpoint that provides just the vote count without user-specific information.",
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Unique identifier of the item",
            "example": "awesome-productivity-tool"
          }
        ],
        "responses": {
          "200": {
            "description": "Vote count retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VoteCountResponse"
                },
                "example": {
                  "success": true,
                  "count": 42
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch vote count"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/featured-items/{id}": {
      "get": {
        "tags": [
          "Admin - Featured Items"
        ],
        "summary": "Get featured item by ID (Admin)",
        "description": "Retrieves a specific featured item by its ID with complete details including metadata, status, and timestamps. Requires authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Featured item ID",
            "example": "featured_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Featured item retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/FeaturedItem"
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "featured_123abc",
                    "itemSlug": "awesome-productivity-tool",
                    "itemName": "Awesome Productivity Tool",
                    "itemIconUrl": "https://example.com/icons/productivity-tool.png",
                    "itemCategory": "Productivity",
                    "itemDescription": "A powerful tool to boost your productivity",
                    "featuredOrder": 10,
                    "featuredAt": "2024-01-20T10:30:00.000Z",
                    "featuredUntil": "2024-12-31T23:59:59.000Z",
                    "featuredBy": "user_456def",
                    "isActive": true,
                    "createdAt": "2024-01-20T10:30:00.000Z",
                    "updatedAt": "2024-01-20T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Featured item not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Featured item not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Featured item not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch featured item"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Admin - Featured Items"
        ],
        "summary": "Update featured item (Admin)",
        "description": "Updates a featured item's properties including name, icon, category, description, order, expiration date, and active status. All fields are optional. Requires authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Featured item ID",
            "example": "featured_123abc"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "itemName": {
                    "type": "string",
                    "description": "Display name of the item",
                    "example": "Updated Productivity Tool"
                  },
                  "itemIconUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL to the item's icon/logo",
                    "example": "https://example.com/icons/updated-tool.png"
                  },
                  "itemCategory": {
                    "type": "string",
                    "description": "Category of the item",
                    "example": "Business Tools"
                  },
                  "itemDescription": {
                    "type": "string",
                    "description": "Brief description of the item",
                    "example": "An enhanced tool for business productivity"
                  },
                  "featuredOrder": {
                    "type": "integer",
                    "description": "Display order (higher numbers appear first)",
                    "example": 15
                  },
                  "featuredUntil": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Optional expiration date for featuring",
                    "example": "2024-12-31T23:59:59.000Z"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "Whether the featured item is active",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Featured item updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/FeaturedItem"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Featured item updated successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "featured_123",
                    "itemSlug": "awesome-productivity-tool",
                    "itemName": "Updated Productivity Tool",
                    "itemIconUrl": "https://cdn.example.com/icons/updated-tool.png",
                    "itemCategory": "Productivity",
                    "itemDescription": "An even more powerful tool to boost your productivity",
                    "featuredOrder": 15,
                    "featuredUntil": "2024-12-31T23:59:59.000Z",
                    "isActive": true,
                    "featuredBy": "admin_456",
                    "featuredAt": "2024-01-15T10:30:00.000Z",
                    "createdAt": "2024-01-15T10:30:00.000Z",
                    "updatedAt": "2024-01-15T12:45:00.000Z"
                  },
                  "message": "Featured item updated successfully"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Featured item not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Featured item not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Featured item not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to update featured item"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin - Featured Items"
        ],
        "summary": "Remove featured item (Admin)",
        "description": "Performs a soft delete on a featured item by setting isActive to false. The item remains in the database but is no longer featured. This action can be reversed by updating the item's isActive status. Requires authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Featured item ID to remove",
            "example": "featured_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Featured item removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Featured item removed successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Featured item removed successfully"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Featured item not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Featured item not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Featured item not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to remove featured item"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/dashboard/stats": {
      "get": {
        "tags": [
          "Admin - Dashboard"
        ],
        "summary": "Get admin dashboard statistics",
        "description": "Returns complete dashboard statistics including user metrics, activity data, newsletter stats, submission analytics, and chart data for the admin dashboard. Includes user growth trends, activity patterns, top items, and recent activity. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalUsers": {
                          "type": "integer",
                          "description": "Total number of users in the system",
                          "example": 1247
                        },
                        "registeredUsers": {
                          "type": "integer",
                          "description": "Number of registered users",
                          "example": 1156
                        },
                        "newUsersToday": {
                          "type": "integer",
                          "description": "New users registered today",
                          "example": 5
                        },
                        "newUsersLast7Days": {
                          "type": "integer",
                          "description": "New users registered in the last 7 days",
                          "example": 23
                        },
                        "newUsersLast30Days": {
                          "type": "integer",
                          "description": "New users registered in the last 30 days",
                          "example": 89
                        },
                        "totalViews": {
                          "type": "integer",
                          "description": "Total page views across the platform",
                          "example": 45678
                        },
                        "totalVotes": {
                          "type": "integer",
                          "description": "Total votes cast on items",
                          "example": 3456
                        },
                        "totalComments": {
                          "type": "integer",
                          "description": "Total comments posted",
                          "example": 789
                        },
                        "totalSubscribers": {
                          "type": "integer",
                          "description": "Total newsletter subscribers",
                          "example": 2345
                        },
                        "recentSubscribers": {
                          "type": "integer",
                          "description": "Recent newsletter subscribers",
                          "example": 45
                        },
                        "totalSubmissions": {
                          "type": "integer",
                          "description": "Total item submissions",
                          "example": 567
                        },
                        "pendingSubmissions": {
                          "type": "integer",
                          "description": "Submissions awaiting review",
                          "example": 23
                        },
                        "approvedSubmissions": {
                          "type": "integer",
                          "description": "Approved submissions",
                          "example": 456
                        },
                        "rejectedSubmissions": {
                          "type": "integer",
                          "description": "Rejected submissions",
                          "example": 88
                        },
                        "submissionStatusData": {
                          "type": "array",
                          "description": "Submission status data for charts",
                          "items": {
                            "type": "object",
                            "properties": {
                              "status": {
                                "type": "string",
                                "example": "Approved"
                              },
                              "count": {
                                "type": "integer",
                                "example": 456
                              },
                              "color": {
                                "type": "string",
                                "example": "#10B981"
                              }
                            }
                          }
                        },
                        "userGrowthData": {
                          "type": "array",
                          "description": "User growth data for the last 12 months",
                          "items": {
                            "type": "object",
                            "properties": {
                              "month": {
                                "type": "string",
                                "example": "2024-01"
                              },
                              "users": {
                                "type": "integer",
                                "example": 123
                              }
                            }
                          }
                        },
                        "activityTrendData": {
                          "type": "array",
                          "description": "Activity trend data for the last 14 days",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "string",
                                "format": "date",
                                "example": "2024-01-20"
                              },
                              "views": {
                                "type": "integer",
                                "example": 234
                              },
                              "votes": {
                                "type": "integer",
                                "example": 45
                              },
                              "comments": {
                                "type": "integer",
                                "example": 12
                              }
                            }
                          }
                        },
                        "topItemsData": {
                          "type": "array",
                          "description": "Top 10 most popular items",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "example": "item_123abc"
                              },
                              "name": {
                                "type": "string",
                                "example": "Awesome Tool"
                              },
                              "views": {
                                "type": "integer",
                                "example": 1234
                              },
                              "votes": {
                                "type": "integer",
                                "example": 89
                              }
                            }
                          }
                        },
                        "recentActivity": {
                          "type": "array",
                          "description": "Recent activity feed (last 20 activities)",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "example": "activity_456def"
                              },
                              "type": {
                                "type": "string",
                                "example": "comment"
                              },
                              "user": {
                                "type": "string",
                                "example": "John Doe"
                              },
                              "item": {
                                "type": "string",
                                "example": "Awesome Tool"
                              },
                              "timestamp": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2024-01-20T14:30:00.000Z"
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "totalUsers": 1250,
                    "registeredUsers": 1180,
                    "newUsersToday": 15,
                    "newUsersLast7Days": 89,
                    "newUsersLast30Days": 342,
                    "totalViews": 45230,
                    "totalVotes": 8920,
                    "totalComments": 3450,
                    "totalSubscribers": 890,
                    "recentSubscribers": 23,
                    "totalSubmissions": 567,
                    "pendingSubmissions": 45,
                    "approvedSubmissions": 489,
                    "rejectedSubmissions": 33,
                    "submissionStatusData": [
                      {
                        "status": "Approved",
                        "count": 489,
                        "color": "#10B981"
                      },
                      {
                        "status": "Pending",
                        "count": 45,
                        "color": "#F59E0B"
                      },
                      {
                        "status": "Rejected",
                        "count": 33,
                        "color": "#EF4444"
                      }
                    ],
                    "userGrowthData": [
                      {
                        "month": "2024-01",
                        "users": 1000,
                        "active": 850
                      },
                      {
                        "month": "2024-02",
                        "users": 1100,
                        "active": 920
                      }
                    ],
                    "activityTrendData": [
                      {
                        "day": "2024-01-15",
                        "views": 1250,
                        "votes": 89,
                        "comments": 34
                      },
                      {
                        "day": "2024-01-16",
                        "views": 1340,
                        "votes": 95,
                        "comments": 41
                      }
                    ],
                    "topItemsData": [
                      {
                        "name": "Awesome Productivity Tool",
                        "views": 2340,
                        "votes": 189,
                        "category": "Productivity"
                      },
                      {
                        "name": "Great Design App",
                        "views": 1890,
                        "votes": 156,
                        "category": "Design"
                      }
                    ],
                    "recentActivity": [
                      {
                        "type": "user_signup",
                        "description": "New user signed up",
                        "timestamp": "2024-01-15T10:30:00.000Z",
                        "user": "john@example.com"
                      },
                      {
                        "type": "comment",
                        "description": "New comment added",
                        "timestamp": "2024-01-15T10:25:00.000Z",
                        "user": "user_123"
                      },
                      {
                        "type": "vote",
                        "description": "New up vote",
                        "timestamp": "2024-01-15T10:20:00.000Z",
                        "user": "user_456"
                      }
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/items/stats": {
      "get": {
        "tags": [
          "Admin - Items"
        ],
        "summary": "Get item statistics",
        "description": "Returns comprehensive statistics about items including total count and breakdown by status (draft, pending, approved, rejected). Data is sourced from Git repository. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Item statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "type": "integer",
                          "description": "Total number of items",
                          "example": 1247
                        },
                        "statusCounts": {
                          "type": "object",
                          "properties": {
                            "draft": {
                              "type": "integer",
                              "description": "Number of draft items",
                              "example": 45
                            },
                            "pending": {
                              "type": "integer",
                              "description": "Number of pending items",
                              "example": 23
                            },
                            "approved": {
                              "type": "integer",
                              "description": "Number of approved items",
                              "example": 1156
                            },
                            "rejected": {
                              "type": "integer",
                              "description": "Number of rejected items",
                              "example": 23
                            }
                          }
                        },
                        "featuredItems": {
                          "type": "integer",
                          "description": "Number of featured items",
                          "example": 89
                        },
                        "categoryCounts": {
                          "type": "object",
                          "description": "Items count by category",
                          "additionalProperties": {
                            "type": "integer"
                          },
                          "example": {
                            "productivity": 234,
                            "design": 156,
                            "development": 189,
                            "business": 145
                          }
                        },
                        "tagCounts": {
                          "type": "object",
                          "description": "Items count by tag",
                          "additionalProperties": {
                            "type": "integer"
                          },
                          "example": {
                            "saas": 345,
                            "free": 234,
                            "paid": 567,
                            "collaboration": 123
                          }
                        },
                        "recentItems": {
                          "type": "integer",
                          "description": "Items created in the last 30 days",
                          "example": 67
                        },
                        "averageRating": {
                          "type": "number",
                          "description": "Average rating across all items",
                          "example": 4.2
                        },
                        "totalViews": {
                          "type": "integer",
                          "description": "Total views across all items",
                          "example": 45678
                        },
                        "totalVotes": {
                          "type": "integer",
                          "description": "Total votes across all items",
                          "example": 3456
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "totalItems": 1247,
                    "statusCounts": {
                      "draft": 45,
                      "pending": 23,
                      "approved": 1156,
                      "rejected": 23
                    },
                    "featuredItems": 89,
                    "categoryCounts": {
                      "productivity": 234,
                      "design": 156,
                      "development": 189,
                      "business": 145
                    },
                    "tagCounts": {
                      "saas": 345,
                      "free": 234,
                      "paid": 567,
                      "collaboration": 123
                    },
                    "recentItems": 67,
                    "averageRating": 4.2,
                    "totalViews": 45678,
                    "totalVotes": 3456
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Unauthorized. Admin access required."
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch item stats"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users": {
      "get": {
        "tags": [
          "Admin - Users"
        ],
        "summary": "List users (Admin)",
        "description": "Returns a paginated list of users with advanced filtering, searching, and sorting capabilities. Supports comprehensive user management for admin interfaces including search by name/email/username, role filtering, status filtering, and flexible sorting options. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of users per page",
            "example": 10
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "maxLength": 100
            },
            "description": "Search term for name, email, or username",
            "example": "john"
          },
          {
            "name": "role",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "maxLength": 50
            },
            "description": "Filter by user role",
            "example": "admin"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            },
            "description": "Filter by user status",
            "example": "active"
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "username",
                "email",
                "role",
                "created_at"
              ],
              "default": "name"
            },
            "description": "Field to sort by",
            "example": "created_at"
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "description": "Sort order",
            "example": "desc"
          },
          {
            "name": "includeInactive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "Whether to include inactive users",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "Users list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      }
                    },
                    "total": {
                      "type": "integer",
                      "description": "Total number of users",
                      "example": 156
                    },
                    "page": {
                      "type": "integer",
                      "description": "Current page number",
                      "example": 1
                    },
                    "limit": {
                      "type": "integer",
                      "description": "Number of users per page",
                      "example": 10
                    },
                    "totalPages": {
                      "type": "integer",
                      "description": "Total number of pages",
                      "example": 16
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "total",
                    "page",
                    "limit",
                    "totalPages"
                  ]
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "id": "user_123abc",
                      "username": "johndoe",
                      "email": "john.doe@example.com",
                      "name": "John Doe",
                      "title": "Senior Developer",
                      "avatar": "https://example.com/avatars/john.jpg",
                      "role": "admin",
                      "status": "active",
                      "created_at": "2024-01-20T10:30:00.000Z",
                      "updated_at": "2024-01-20T14:45:00.000Z",
                      "last_login": "2024-01-20T16:20:00.000Z"
                    },
                    {
                      "id": "user_456def",
                      "username": "janesmith",
                      "email": "jane.smith@example.com",
                      "name": "Jane Smith",
                      "title": "Product Manager",
                      "avatar": "https://example.com/avatars/jane.jpg",
                      "role": "moderator",
                      "status": "active",
                      "created_at": "2024-01-19T15:20:00.000Z",
                      "updated_at": "2024-01-19T15:20:00.000Z",
                      "last_login": "2024-01-20T09:15:00.000Z"
                    }
                  ],
                  "total": 156,
                  "page": 1,
                  "limit": 10,
                  "totalPages": 16
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "invalid_status": "Invalid status parameter",
                        "invalid_sort": "Invalid sortBy parameter",
                        "search_too_long": "Search parameter too long"
                      }
                    }
                  }
                },
                "examples": {
                  "invalid_status": {
                    "summary": "Invalid status parameter",
                    "value": {
                      "success": false,
                      "error": "Invalid status parameter"
                    }
                  },
                  "invalid_sort": {
                    "summary": "Invalid sortBy parameter",
                    "value": {
                      "success": false,
                      "error": "Invalid sortBy parameter"
                    }
                  },
                  "invalid_sort_order": {
                    "summary": "Invalid sortOrder parameter",
                    "value": {
                      "success": false,
                      "error": "Invalid sortOrder parameter"
                    }
                  },
                  "search_too_long": {
                    "summary": "Search parameter too long",
                    "value": {
                      "success": false,
                      "error": "Search parameter too long"
                    }
                  },
                  "role_too_long": {
                    "summary": "Role parameter too long",
                    "value": {
                      "success": false,
                      "error": "Role parameter too long"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin - Users"
        ],
        "summary": "Create user (Admin)",
        "description": "Creates a new user account with comprehensive validation. Validates email format, username format (3-30 chars, alphanumeric + dash/underscore), name length (2-100 chars), password strength (min 8 chars), and role existence. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "pattern": "^[a-zA-Z0-9_-]{3,30}$",
                    "description": "Unique username (3-30 chars, alphanumeric, dash, underscore)",
                    "example": "johndoe"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Valid email address",
                    "example": "john.doe@example.com"
                  },
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "description": "Full name",
                    "example": "John Doe"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8,
                    "description": "Password (minimum 8 characters)",
                    "example": "SecurePass123!"
                  },
                  "role": {
                    "type": "string",
                    "description": "User role (must exist in system)",
                    "example": "admin"
                  },
                  "title": {
                    "type": "string",
                    "maxLength": 100,
                    "description": "Job title or position",
                    "example": "Senior Developer"
                  },
                  "avatar": {
                    "type": "string",
                    "maxLength": 500,
                    "format": "uri",
                    "description": "Avatar image URL",
                    "example": "https://example.com/avatars/john.jpg"
                  }
                },
                "required": [
                  "username",
                  "email",
                  "name",
                  "password",
                  "role"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "user_2a3b4c5d",
                    "email": "john.doe@example.com",
                    "username": "johndoe",
                    "name": "John Doe",
                    "title": "Senior Developer",
                    "avatar": "https://cdn.example.com/avatars/johndoe.jpg",
                    "role": "admin",
                    "roleName": "Administrator",
                    "status": "active",
                    "created_by": "admin_1a2b3c4d",
                    "created_at": "2024-01-15T10:30:00.123Z",
                    "updated_at": "2024-01-15T10:30:00.123Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input or validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "missing_fields": "Missing required fields: username, email, name, password, and role are required",
                        "invalid_email": "Invalid email format",
                        "invalid_username": "Username must be 3-30 characters and contain only letters, numbers, dashes, and underscores",
                        "invalid_name": "Name must be between 2 and 100 characters",
                        "weak_password": "Password must be at least 8 characters long",
                        "invalid_role": "Invalid role",
                        "duplicate_email": "Email already exists",
                        "duplicate_username": "Username already exists"
                      }
                    }
                  }
                },
                "examples": {
                  "missing_fields": {
                    "summary": "Missing required fields",
                    "value": {
                      "success": false,
                      "error": "Missing required fields: username, email, name, password, and role are required"
                    }
                  },
                  "invalid_email": {
                    "summary": "Invalid email format",
                    "value": {
                      "success": false,
                      "error": "Invalid email format"
                    }
                  },
                  "invalid_username": {
                    "summary": "Invalid username format",
                    "value": {
                      "success": false,
                      "error": "Username must be 3-30 characters and contain only letters, numbers, dashes, and underscores"
                    }
                  },
                  "invalid_name": {
                    "summary": "Invalid name length",
                    "value": {
                      "success": false,
                      "error": "Name must be between 2 and 100 characters"
                    }
                  },
                  "weak_password": {
                    "summary": "Password too weak",
                    "value": {
                      "success": false,
                      "error": "Password must be at least 8 characters long"
                    }
                  },
                  "invalid_role": {
                    "summary": "Role does not exist",
                    "value": {
                      "success": false,
                      "error": "Invalid role"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/{id}": {
      "get": {
        "tags": [
          "Admin - Users"
        ],
        "summary": "Get user by ID (Admin)",
        "description": "Retrieves a specific user by their ID with complete profile information including role, status, and metadata. Used for user detail views and editing forms in admin interfaces. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "User ID",
            "example": "user_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "User retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "user_2a3b4c5d",
                    "email": "john.doe@example.com",
                    "username": "johndoe",
                    "name": "John Doe",
                    "title": "Senior Developer",
                    "avatar": "https://cdn.example.com/avatars/johndoe.jpg",
                    "role": "admin",
                    "roleName": "Administrator",
                    "status": "active",
                    "created_by": "admin_1a2b3c4d",
                    "created_at": "2024-01-15T10:30:00.123Z",
                    "updated_at": "2024-01-15T10:30:00.123Z"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "User not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Admin - Users"
        ],
        "summary": "Update user (Admin)",
        "description": "Updates a user's properties. All fields are optional and can be updated individually. Validates email format, username format (3-50 chars), name length (2-100 chars), title length (max 100 chars), avatar URL length (max 500 chars), role existence, and status values. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "User ID to update",
            "example": "user_123abc"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "minLength": 3,
                    "maxLength": 50,
                    "description": "Username",
                    "example": "johndoe_updated"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email address",
                    "example": "john.updated@example.com"
                  },
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "description": "Full name",
                    "example": "John Updated Doe"
                  },
                  "title": {
                    "type": "string",
                    "maxLength": 100,
                    "description": "Job title or position",
                    "example": "Lead Developer"
                  },
                  "avatar": {
                    "type": "string",
                    "maxLength": 500,
                    "format": "uri",
                    "description": "Avatar image URL",
                    "example": "https://example.com/avatars/john_new.jpg"
                  },
                  "role": {
                    "type": "string",
                    "description": "User role (must exist in system)",
                    "example": "moderator"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "User status",
                    "example": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "user_2a3b4c5d",
                    "email": "john.doe@example.com",
                    "username": "johndoe",
                    "name": "John Smith",
                    "title": "Lead Developer",
                    "avatar": "https://cdn.example.com/avatars/johndoe.jpg",
                    "role": "admin",
                    "roleName": "Administrator",
                    "status": "active",
                    "created_by": "admin_1a2b3c4d",
                    "created_at": "2024-01-15T10:30:00.123Z",
                    "updated_at": "2024-01-16T14:20:00.123Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input or validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "invalid_email": "Invalid email format",
                        "invalid_username": "Username must be between 3 and 50 characters",
                        "invalid_name": "Name must be between 2 and 100 characters",
                        "invalid_role": "Invalid role",
                        "invalid_status": "Invalid status. Must be \"active\" or \"inactive\""
                      }
                    }
                  }
                },
                "examples": {
                  "invalid_email": {
                    "summary": "Invalid email format",
                    "value": {
                      "success": false,
                      "error": "Invalid email format"
                    }
                  },
                  "invalid_username": {
                    "summary": "Invalid username length",
                    "value": {
                      "success": false,
                      "error": "Username must be between 3 and 50 characters"
                    }
                  },
                  "invalid_name": {
                    "summary": "Invalid name length",
                    "value": {
                      "success": false,
                      "error": "Name must be between 2 and 100 characters"
                    }
                  },
                  "invalid_role": {
                    "summary": "Role does not exist",
                    "value": {
                      "success": false,
                      "error": "Invalid role"
                    }
                  },
                  "invalid_status": {
                    "summary": "Invalid status value",
                    "value": {
                      "success": false,
                      "error": "Invalid status. Must be \"active\" or \"inactive\""
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "User not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin - Users"
        ],
        "summary": "Delete user (Admin)",
        "description": "Permanently deletes a specific user from the system. This action cannot be undone and will remove all user data including profile, activity history, and associated content. Includes protection against self-deletion to prevent admin lockout. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "User ID to delete",
            "example": "user_456def"
          }
        ],
        "responses": {
          "200": {
            "description": "User deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "User deleted successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "User deleted successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Cannot delete own account",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Cannot delete your own account"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Cannot delete your own account"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "User not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/stats": {
      "get": {
        "tags": [
          "Admin - Users"
        ],
        "summary": "Get user statistics",
        "description": "Returns comprehensive statistics about users including total count, active/inactive breakdown, role distribution, recent registrations, and other metrics for admin dashboard and analytics. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalUsers": {
                          "type": "integer",
                          "description": "Total number of users",
                          "example": 1247
                        },
                        "activeUsers": {
                          "type": "integer",
                          "description": "Number of active users",
                          "example": 1156
                        },
                        "inactiveUsers": {
                          "type": "integer",
                          "description": "Number of inactive users",
                          "example": 91
                        },
                        "recentRegistrations": {
                          "type": "integer",
                          "description": "Users registered in the last 30 days",
                          "example": 67
                        },
                        "roleDistribution": {
                          "type": "object",
                          "description": "Users count by role",
                          "additionalProperties": {
                            "type": "integer"
                          },
                          "example": {
                            "admin": 5,
                            "moderator": 23,
                            "user": 1219
                          }
                        },
                        "averageLoginFrequency": {
                          "type": "number",
                          "description": "Average logins per user per month",
                          "example": 12.5
                        },
                        "topActiveUsers": {
                          "type": "array",
                          "description": "Most active users (by login frequency)",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "example": "user_123abc"
                              },
                              "username": {
                                "type": "string",
                                "example": "johndoe"
                              },
                              "name": {
                                "type": "string",
                                "example": "John Doe"
                              },
                              "loginCount": {
                                "type": "integer",
                                "example": 45
                              },
                              "lastLogin": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2024-01-20T16:20:00.000Z"
                              }
                            }
                          },
                          "maxItems": 10
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "totalUsers": 1247,
                    "activeUsers": 1156,
                    "inactiveUsers": 91,
                    "recentRegistrations": 67,
                    "roleDistribution": {
                      "admin": 5,
                      "moderator": 23,
                      "user": 1219
                    },
                    "averageLoginFrequency": 12.5,
                    "topActiveUsers": [
                      {
                        "id": "user_123abc",
                        "username": "johndoe",
                        "name": "John Doe",
                        "loginCount": 45,
                        "lastLogin": "2024-01-20T16:20:00.000Z"
                      },
                      {
                        "id": "user_456def",
                        "username": "janesmith",
                        "name": "Jane Smith",
                        "loginCount": 38,
                        "lastLogin": "2024-01-20T15:30:00.000Z"
                      }
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/roles/stats": {
      "get": {
        "tags": [
          "Admin - Roles"
        ],
        "summary": "Get role statistics",
        "description": "Returns comprehensive statistics about roles including total count, active/inactive breakdown, and average permissions per role. Provides insights for admin dashboard and role management analytics. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Role statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "Total number of roles",
                          "example": 25
                        },
                        "active": {
                          "type": "integer",
                          "description": "Number of active roles",
                          "example": 20
                        },
                        "inactive": {
                          "type": "integer",
                          "description": "Number of inactive roles",
                          "example": 5
                        },
                        "averagePermissions": {
                          "type": "number",
                          "description": "Average number of permissions per role (rounded to 1 decimal)",
                          "example": 4.2
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "total": 25,
                    "active": 20,
                    "inactive": 5,
                    "averagePermissions": 4.2
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch role statistics"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/clients/stats": {
      "get": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "Get client statistics",
        "description": "Returns comprehensive statistics about clients including overview metrics, breakdown by provider/plan/account type/status, activity metrics, and growth data. Data is sourced from database with complex aggregations. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Client statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "overview": {
                          "type": "object",
                          "properties": {
                            "totalClients": {
                              "type": "integer",
                              "description": "Total number of clients",
                              "example": 1247
                            },
                            "activeClients": {
                              "type": "integer",
                              "description": "Number of active clients",
                              "example": 1156
                            },
                            "inactiveClients": {
                              "type": "integer",
                              "description": "Number of inactive clients",
                              "example": 67
                            },
                            "suspendedClients": {
                              "type": "integer",
                              "description": "Number of suspended clients",
                              "example": 24
                            },
                            "trialClients": {
                              "type": "integer",
                              "description": "Number of trial clients",
                              "example": 89
                            }
                          }
                        },
                        "growth": {
                          "type": "object",
                          "properties": {
                            "newClientsToday": {
                              "type": "integer",
                              "description": "New clients registered today",
                              "example": 3
                            },
                            "newClientsThisWeek": {
                              "type": "integer",
                              "description": "New clients registered this week",
                              "example": 18
                            },
                            "newClientsThisMonth": {
                              "type": "integer",
                              "description": "New clients registered this month",
                              "example": 45
                            },
                            "growthRate": {
                              "type": "number",
                              "description": "Monthly growth rate percentage",
                              "example": 3.8
                            }
                          }
                        },
                        "plans": {
                          "type": "object",
                          "properties": {
                            "free": {
                              "type": "integer",
                              "description": "Number of free plan clients",
                              "example": 856
                            },
                            "standard": {
                              "type": "integer",
                              "description": "Number of standard plan clients",
                              "example": 267
                            },
                            "premium": {
                              "type": "integer",
                              "description": "Number of premium plan clients",
                              "example": 124
                            },
                            "conversionRate": {
                              "type": "number",
                              "description": "Free to paid conversion rate percentage",
                              "example": 31.4
                            }
                          }
                        },
                        "accountTypes": {
                          "type": "object",
                          "properties": {
                            "individual": {
                              "type": "integer",
                              "description": "Number of individual accounts",
                              "example": 789
                            },
                            "business": {
                              "type": "integer",
                              "description": "Number of business accounts",
                              "example": 356
                            },
                            "enterprise": {
                              "type": "integer",
                              "description": "Number of enterprise accounts",
                              "example": 102
                            }
                          }
                        },
                        "engagement": {
                          "type": "object",
                          "properties": {
                            "averageSubmissions": {
                              "type": "number",
                              "description": "Average submissions per client",
                              "example": 12.5
                            },
                            "totalSubmissions": {
                              "type": "integer",
                              "description": "Total submissions across all clients",
                              "example": 15587
                            },
                            "activeThisWeek": {
                              "type": "integer",
                              "description": "Clients active in the last 7 days",
                              "example": 892
                            },
                            "activeThisMonth": {
                              "type": "integer",
                              "description": "Clients active in the last 30 days",
                              "example": 1034
                            }
                          }
                        },
                        "demographics": {
                          "type": "object",
                          "properties": {
                            "topCountries": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "country": {
                                    "type": "string",
                                    "example": "United States"
                                  },
                                  "count": {
                                    "type": "integer",
                                    "example": 456
                                  }
                                }
                              }
                            },
                            "topCompanies": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "company": {
                                    "type": "string",
                                    "example": "Tech Corp Inc"
                                  },
                                  "count": {
                                    "type": "integer",
                                    "example": 25
                                  }
                                }
                              }
                            },
                            "topIndustries": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "industry": {
                                    "type": "string",
                                    "example": "Technology"
                                  },
                                  "count": {
                                    "type": "integer",
                                    "example": 234
                                  }
                                }
                              }
                            }
                          }
                        },
                        "providers": {
                          "type": "object",
                          "properties": {
                            "google": {
                              "type": "integer",
                              "description": "Clients using Google authentication",
                              "example": 567
                            },
                            "github": {
                              "type": "integer",
                              "description": "Clients using GitHub authentication",
                              "example": 234
                            },
                            "email": {
                              "type": "integer",
                              "description": "Clients using email authentication",
                              "example": 446
                            }
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "overview": {
                      "totalClients": 1247,
                      "activeClients": 1156,
                      "inactiveClients": 67,
                      "suspendedClients": 24,
                      "trialClients": 89
                    },
                    "growth": {
                      "newClientsToday": 3,
                      "newClientsThisWeek": 18,
                      "newClientsThisMonth": 45,
                      "growthRate": 3.8
                    },
                    "plans": {
                      "free": 856,
                      "standard": 267,
                      "premium": 124,
                      "conversionRate": 31.4
                    },
                    "accountTypes": {
                      "individual": 789,
                      "business": 356,
                      "enterprise": 102
                    },
                    "engagement": {
                      "averageSubmissions": 12.5,
                      "totalSubmissions": 15587,
                      "activeThisWeek": 892,
                      "activeThisMonth": 1034
                    },
                    "demographics": {
                      "topCountries": [
                        {
                          "country": "United States",
                          "count": 456
                        },
                        {
                          "country": "Canada",
                          "count": 234
                        }
                      ],
                      "topCompanies": [
                        {
                          "company": "Tech Corp Inc",
                          "count": 25
                        },
                        {
                          "company": "StartupCo",
                          "count": 18
                        }
                      ],
                      "topIndustries": [
                        {
                          "industry": "Technology",
                          "count": 234
                        },
                        {
                          "industry": "Finance",
                          "count": 156
                        }
                      ]
                    },
                    "providers": {
                      "google": 567,
                      "github": 234,
                      "email": 446
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch client stats"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/notifications": {
      "get": {
        "tags": [
          "Admin - Notifications"
        ],
        "summary": "Get admin notifications",
        "description": "Retrieves the latest 50 notifications for the authenticated admin user, ordered by creation date (newest first). Also returns the count of unread notifications. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Notifications retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "notifications": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "description": "Notification ID",
                                "example": "notif_123abc"
                              },
                              "userId": {
                                "type": "string",
                                "description": "User ID who receives the notification",
                                "example": "user_456def"
                              },
                              "type": {
                                "type": "string",
                                "description": "Notification type",
                                "example": "item_approved"
                              },
                              "title": {
                                "type": "string",
                                "description": "Notification title",
                                "example": "Item Approved"
                              },
                              "message": {
                                "type": "string",
                                "description": "Notification message",
                                "example": "Your item 'Awesome Tool' has been approved and is now live."
                              },
                              "data": {
                                "type": "string",
                                "nullable": true,
                                "description": "Additional data as JSON string",
                                "example": "{\"itemId\": \"item_789ghi\", \"itemName\": \"Awesome Tool\"}"
                              },
                              "isRead": {
                                "type": "boolean",
                                "description": "Whether the notification has been read",
                                "example": false
                              },
                              "readAt": {
                                "type": "string",
                                "format": "date-time",
                                "nullable": true,
                                "description": "When the notification was read",
                                "example": null
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time",
                                "description": "When the notification was created",
                                "example": "2024-01-20T10:30:00.000Z"
                              },
                              "updatedAt": {
                                "type": "string",
                                "format": "date-time",
                                "nullable": true,
                                "description": "When the notification was last updated",
                                "example": "2024-01-20T10:30:00.000Z"
                              }
                            }
                          }
                        },
                        "unreadCount": {
                          "type": "integer",
                          "description": "Number of unread notifications",
                          "example": 3
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "notifications": [
                      {
                        "id": "notif_123",
                        "userId": "admin_456",
                        "type": "item_submission",
                        "title": "New Item Submission",
                        "message": "A new item 'Awesome Tool' has been submitted by john@example.com and requires review.",
                        "data": "{\"itemId\":\"item_789\",\"itemName\":\"Awesome Tool\",\"submittedBy\":\"john@example.com\",\"actionUrl\":\"/admin/items/item_789\"}",
                        "isRead": false,
                        "readAt": null,
                        "createdAt": "2024-01-15T10:30:00.000Z",
                        "updatedAt": "2024-01-15T10:30:00.000Z"
                      },
                      {
                        "id": "notif_124",
                        "userId": "admin_456",
                        "type": "user_registered",
                        "title": "New User Registration",
                        "message": "A new user has registered with email: jane@example.com",
                        "data": "{\"userId\":\"user_890\",\"userEmail\":\"jane@example.com\",\"actionUrl\":\"/admin/users/user_890\"}",
                        "isRead": true,
                        "readAt": "2024-01-15T11:00:00.000Z",
                        "createdAt": "2024-01-15T09:45:00.000Z",
                        "updatedAt": "2024-01-15T11:00:00.000Z"
                      }
                    ],
                    "unreadCount": 1
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin - Notifications"
        ],
        "summary": "Create notification",
        "description": "Creates a new notification for a specific user. The notification will be delivered to the specified user and can include additional data as JSON. Requires authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "Notification type identifier",
                    "example": "item_approved"
                  },
                  "title": {
                    "type": "string",
                    "description": "Notification title",
                    "example": "Item Approved"
                  },
                  "message": {
                    "type": "string",
                    "description": "Notification message content",
                    "example": "Your item 'Awesome Tool' has been approved and is now live."
                  },
                  "userId": {
                    "type": "string",
                    "description": "ID of the user who will receive the notification",
                    "example": "user_456def"
                  },
                  "data": {
                    "type": "object",
                    "description": "Optional additional data (will be JSON stringified)",
                    "example": {
                      "itemId": "item_789ghi",
                      "itemName": "Awesome Tool",
                      "action": "approved"
                    }
                  }
                },
                "required": [
                  "type",
                  "title",
                  "message",
                  "userId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Notification created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "notification": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Generated notification ID",
                          "example": "notif_123abc"
                        },
                        "userId": {
                          "type": "string",
                          "description": "User ID who receives the notification",
                          "example": "user_456def"
                        },
                        "type": {
                          "type": "string",
                          "description": "Notification type",
                          "example": "item_approved"
                        },
                        "title": {
                          "type": "string",
                          "description": "Notification title",
                          "example": "Item Approved"
                        },
                        "message": {
                          "type": "string",
                          "description": "Notification message",
                          "example": "Your item 'Awesome Tool' has been approved and is now live."
                        },
                        "data": {
                          "type": "string",
                          "nullable": true,
                          "description": "Additional data as JSON string",
                          "example": "{\"itemId\": \"item_789ghi\", \"itemName\": \"Awesome Tool\", \"action\": \"approved\"}"
                        },
                        "isRead": {
                          "type": "boolean",
                          "description": "Read status (always false for new notifications)",
                          "example": false
                        },
                        "readAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "description": "Read timestamp (null for new notifications)",
                          "example": null
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Creation timestamp",
                          "example": "2024-01-20T10:30:00.000Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "description": "Last update timestamp",
                          "example": "2024-01-20T10:30:00.000Z"
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "notification"
                  ]
                },
                "example": {
                  "success": true,
                  "notification": {
                    "id": "notif_125",
                    "userId": "user_123",
                    "type": "system_alert",
                    "title": "System Maintenance",
                    "message": "The system will be under maintenance from 2 AM to 4 AM UTC.",
                    "data": "{\"maintenanceStart\":\"2024-01-16T02:00:00.000Z\",\"maintenanceEnd\":\"2024-01-16T04:00:00.000Z\",\"affectedServices\":[\"api\",\"dashboard\"]}",
                    "isRead": false,
                    "readAt": null,
                    "createdAt": "2024-01-15T12:00:00.000Z",
                    "updatedAt": "2024-01-15T12:00:00.000Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Missing required fields",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Missing required fields"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Missing required fields"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/items": {
      "get": {
        "tags": [
          "Admin - Items"
        ],
        "summary": "List items (Admin)",
        "description": "Returns a paginated list of items with filtering options. Items are loaded from Git repository. Supports filtering by status (draft/pending/approved/rejected), category, and tag. Status validation ensures only valid values are accepted. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of items per page",
            "example": 10
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "pending",
                "approved",
                "rejected"
              ]
            },
            "description": "Filter by item status",
            "example": "approved"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Filter by category",
            "example": "productivity"
          },
          {
            "name": "tag",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Filter by tag",
            "example": "saas"
          }
        ],
        "responses": {
          "200": {
            "description": "Items list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Item"
                      }
                    },
                    "total": {
                      "type": "integer",
                      "description": "Total number of items",
                      "example": 156
                    },
                    "page": {
                      "type": "integer",
                      "description": "Current page number",
                      "example": 1
                    },
                    "limit": {
                      "type": "integer",
                      "description": "Number of items per page",
                      "example": 10
                    },
                    "totalPages": {
                      "type": "integer",
                      "description": "Total number of pages",
                      "example": 16
                    }
                  },
                  "required": [
                    "success",
                    "items",
                    "total",
                    "page",
                    "limit",
                    "totalPages"
                  ]
                },
                "example": {
                  "success": true,
                  "items": [
                    {
                      "id": "item_123abc",
                      "name": "Awesome Productivity Tool",
                      "slug": "awesome-productivity-tool",
                      "description": "A powerful tool to boost your productivity",
                      "source_url": "https://example.com/tool",
                      "category": [
                        "productivity",
                        "business"
                      ],
                      "tags": [
                        "saas",
                        "productivity",
                        "collaboration"
                      ],
                      "featured": true,
                      "icon_url": "https://example.com/icon.png",
                      "status": "approved",
                      "created_at": "2024-01-20T10:30:00.000Z",
                      "updated_at": "2024-01-20T14:45:00.000Z"
                    },
                    {
                      "id": "item_456def",
                      "name": "Great Design Tool",
                      "slug": "great-design-tool",
                      "description": "Professional design tool for creators",
                      "source_url": "https://example.com/design",
                      "category": [
                        "design",
                        "creative"
                      ],
                      "tags": [
                        "design",
                        "graphics",
                        "creative"
                      ],
                      "featured": false,
                      "icon_url": "https://example.com/design-icon.png",
                      "status": "pending",
                      "created_at": "2024-01-19T15:20:00.000Z",
                      "updated_at": "2024-01-19T15:20:00.000Z"
                    }
                  ],
                  "total": 156,
                  "page": 1,
                  "limit": 10,
                  "totalPages": 16
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Unauthorized. Admin access required."
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch items"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin - Items"
        ],
        "summary": "Create item (Admin)",
        "description": "Creates a new item in the Git repository. Validates required fields (id, name, slug, description, source_url), checks for duplicate ID and slug, validates slug format (lowercase, hyphens only), and validates URL format. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Unique item identifier",
                    "example": "item_123abc"
                  },
                  "name": {
                    "type": "string",
                    "description": "Item name",
                    "example": "Awesome Productivity Tool"
                  },
                  "slug": {
                    "type": "string",
                    "description": "URL-friendly slug (must be unique)",
                    "example": "awesome-productivity-tool"
                  },
                  "description": {
                    "type": "string",
                    "description": "Item description",
                    "example": "A powerful tool to boost your productivity"
                  },
                  "source_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "Source URL of the item",
                    "example": "https://example.com/tool"
                  },
                  "category": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Item categories",
                    "example": [
                      "productivity",
                      "business"
                    ]
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Item tags",
                    "example": [
                      "saas",
                      "productivity",
                      "collaboration"
                    ]
                  },
                  "featured": {
                    "type": "boolean",
                    "description": "Whether the item is featured",
                    "default": false,
                    "example": true
                  },
                  "icon_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL to the item's icon",
                    "example": "https://example.com/icon.png"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "pending",
                      "approved",
                      "rejected"
                    ],
                    "description": "Initial item status",
                    "default": "draft",
                    "example": "draft"
                  }
                },
                "required": [
                  "id",
                  "name",
                  "slug",
                  "description",
                  "source_url"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Item created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "item": {
                      "$ref": "#/components/schemas/Item"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Item created successfully"
                    }
                  },
                  "required": [
                    "success",
                    "item",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "item": {
                    "id": "awesome-productivity-tool",
                    "name": "Awesome Productivity Tool",
                    "slug": "awesome-productivity-tool",
                    "description": "A comprehensive productivity tool that helps teams collaborate effectively and manage their tasks efficiently.",
                    "source_url": "https://github.com/awesome/productivity-tool",
                    "category": [
                      "productivity",
                      "collaboration"
                    ],
                    "tags": [
                      "productivity",
                      "collaboration",
                      "task-management"
                    ],
                    "featured": true,
                    "icon_url": "https://cdn.example.com/icons/productivity-tool.png",
                    "updated_at": "2024-01-15T10:30:00.123Z",
                    "status": "draft",
                    "submitted_by": null,
                    "submitted_at": null,
                    "reviewed_by": null,
                    "reviewed_at": null,
                    "review_notes": null
                  },
                  "message": "Item created successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input or missing required fields",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Item ID, name, slug, description, and source URL are required"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Item ID, name, slug, description, and source URL are required"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Duplicate ID or slug",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "duplicate_id": "Item with ID 'item_123abc' already exists",
                        "duplicate_slug": "Item with slug 'awesome-tool' already exists"
                      }
                    }
                  }
                },
                "examples": {
                  "duplicate_id": {
                    "summary": "Duplicate item ID",
                    "value": {
                      "success": false,
                      "error": "Item with ID 'awesome-productivity-tool' already exists"
                    }
                  },
                  "duplicate_slug": {
                    "summary": "Duplicate item slug",
                    "value": {
                      "success": false,
                      "error": "Item with slug 'awesome-productivity-tool' already exists"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to create item"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/items/{id}": {
      "get": {
        "tags": [
          "Admin - Items"
        ],
        "summary": "Get item by ID (Admin)",
        "description": "Retrieves a specific item by its ID with complete details including metadata, status, categories, tags, and all associated information. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Item ID",
            "example": "item_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Item retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Item"
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "awesome-productivity-tool",
                    "name": "Awesome Productivity Tool",
                    "slug": "awesome-productivity-tool",
                    "description": "A comprehensive productivity tool that helps teams collaborate effectively and manage their tasks efficiently.",
                    "source_url": "https://github.com/awesome/productivity-tool",
                    "category": [
                      "productivity",
                      "collaboration"
                    ],
                    "tags": [
                      "productivity",
                      "collaboration",
                      "task-management"
                    ],
                    "featured": true,
                    "icon_url": "https://cdn.example.com/icons/productivity-tool.png",
                    "updated_at": "2024-01-15T10:30:00.123Z",
                    "status": "approved",
                    "submitted_by": "user_123",
                    "submitted_at": "2024-01-10T08:15:00.123Z",
                    "reviewed_by": "admin_456",
                    "reviewed_at": "2024-01-12T14:20:00.123Z",
                    "review_notes": "Great tool, approved for listing"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Unauthorized. Admin access required."
                }
              }
            }
          },
          "404": {
            "description": "Item not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Item not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Item not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch item"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Admin - Items"
        ],
        "summary": "Update item (Admin)",
        "description": "Updates an item's properties. All fields except ID are optional and can be updated. Data is stored in Git repository. Validates slug format (lowercase, hyphens only), URL format, and checks for duplicate slugs if slug is being updated. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Item ID",
            "example": "item_123abc"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Item name",
                    "example": "Updated Productivity Tool"
                  },
                  "slug": {
                    "type": "string",
                    "description": "URL-friendly slug",
                    "example": "updated-productivity-tool"
                  },
                  "description": {
                    "type": "string",
                    "description": "Item description",
                    "example": "An enhanced tool to boost your productivity"
                  },
                  "source_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "Source URL of the item",
                    "example": "https://example.com/updated-tool"
                  },
                  "category": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Item categories",
                    "example": [
                      "productivity",
                      "business",
                      "automation"
                    ]
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Item tags",
                    "example": [
                      "saas",
                      "productivity",
                      "automation",
                      "ai"
                    ]
                  },
                  "featured": {
                    "type": "boolean",
                    "description": "Whether the item is featured",
                    "example": true
                  },
                  "icon_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL to the item's icon",
                    "example": "https://example.com/updated-icon.png"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "pending",
                      "approved",
                      "rejected"
                    ],
                    "description": "Item status",
                    "example": "approved"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Item"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Item updated successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "awesome-productivity-tool",
                    "name": "Enhanced Productivity Tool",
                    "slug": "awesome-productivity-tool",
                    "description": "An even more comprehensive productivity tool with advanced features for team collaboration and task management.",
                    "source_url": "https://github.com/awesome/productivity-tool",
                    "category": [
                      "productivity",
                      "collaboration",
                      "project-management"
                    ],
                    "tags": [
                      "productivity",
                      "collaboration",
                      "task-management",
                      "project-management"
                    ],
                    "featured": true,
                    "icon_url": "https://cdn.example.com/icons/productivity-tool.png",
                    "updated_at": "2024-01-16T15:45:00.123Z",
                    "status": "approved",
                    "submitted_by": "user_123",
                    "submitted_at": "2024-01-10T08:15:00.123Z",
                    "reviewed_by": "admin_456",
                    "reviewed_at": "2024-01-12T14:20:00.123Z",
                    "review_notes": "Great tool, approved for listing"
                  },
                  "message": "Item updated successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "invalid_slug": {
                    "summary": "Invalid slug format",
                    "value": {
                      "success": false,
                      "error": "Slug must contain only lowercase letters, numbers, and hyphens"
                    }
                  },
                  "invalid_url": {
                    "summary": "Invalid URL format",
                    "value": {
                      "success": false,
                      "error": "Invalid source URL format"
                    }
                  },
                  "empty_name": {
                    "summary": "Empty name",
                    "value": {
                      "success": false,
                      "error": "Item name cannot be empty"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Unauthorized. Admin access required."
                }
              }
            }
          },
          "404": {
            "description": "Item not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Item not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Item not found"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - duplicate slug",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Item with slug 'awesome-productivity-tool' already exists"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to update item"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin - Items"
        ],
        "summary": "Delete item (Admin)",
        "description": "Permanently deletes a specific item from the system. This action cannot be undone. All associated data including votes, comments, and analytics will be removed. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Item ID to delete",
            "example": "item_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Item deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Item deleted successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Item deleted successfully"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Unauthorized. Admin access required."
                }
              }
            }
          },
          "404": {
            "description": "Item not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Item not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Item not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to delete item"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/items/{id}/review": {
      "post": {
        "tags": [
          "Admin - Items"
        ],
        "summary": "Review item (Admin)",
        "description": "Reviews an item by approving or rejecting it. Updates the item's status, adds review notes, and sets review metadata (reviewed_by, reviewed_at). The review process is part of the item approval workflow. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Item ID to review",
            "example": "item_123abc"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewItemRequest"
              },
              "examples": {
                "approve": {
                  "summary": "Approve item",
                  "value": {
                    "status": "approved",
                    "review_notes": "Great tool, meets all requirements. Approved for listing."
                  }
                },
                "reject": {
                  "summary": "Reject item",
                  "value": {
                    "status": "rejected",
                    "review_notes": "Missing required documentation. Please add proper README and usage examples."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item reviewed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Item"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Item approved successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "examples": {
                  "approved": {
                    "summary": "Item approved",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "awesome-productivity-tool",
                        "name": "Awesome Productivity Tool",
                        "slug": "awesome-productivity-tool",
                        "description": "A comprehensive productivity tool that helps teams collaborate effectively and manage their tasks efficiently.",
                        "source_url": "https://github.com/awesome/productivity-tool",
                        "category": [
                          "productivity",
                          "collaboration"
                        ],
                        "tags": [
                          "productivity",
                          "collaboration",
                          "task-management"
                        ],
                        "featured": true,
                        "icon_url": "https://cdn.example.com/icons/productivity-tool.png",
                        "updated_at": "2024-01-16T16:30:00.123Z",
                        "status": "approved",
                        "submitted_by": "user_123",
                        "submitted_at": "2024-01-10T08:15:00.123Z",
                        "reviewed_by": "admin",
                        "reviewed_at": "2024-01-16T16:30:00.123Z",
                        "review_notes": "Great tool, meets all requirements. Approved for listing."
                      },
                      "message": "Item approved successfully"
                    }
                  },
                  "rejected": {
                    "summary": "Item rejected",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "awesome-productivity-tool",
                        "name": "Awesome Productivity Tool",
                        "slug": "awesome-productivity-tool",
                        "description": "A comprehensive productivity tool that helps teams collaborate effectively and manage their tasks efficiently.",
                        "source_url": "https://github.com/awesome/productivity-tool",
                        "category": [
                          "productivity",
                          "collaboration"
                        ],
                        "tags": [
                          "productivity",
                          "collaboration",
                          "task-management"
                        ],
                        "featured": false,
                        "icon_url": "https://cdn.example.com/icons/productivity-tool.png",
                        "updated_at": "2024-01-16T16:30:00.123Z",
                        "status": "rejected",
                        "submitted_by": "user_123",
                        "submitted_at": "2024-01-10T08:15:00.123Z",
                        "reviewed_by": "admin",
                        "reviewed_at": "2024-01-16T16:30:00.123Z",
                        "review_notes": "Missing required documentation. Please add proper README and usage examples."
                      },
                      "message": "Item rejected successfully"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "item_123abc",
                    "name": "Awesome Productivity Tool",
                    "slug": "awesome-productivity-tool",
                    "description": "A powerful tool to boost your productivity",
                    "source_url": "https://example.com/tool",
                    "category": [
                      "productivity",
                      "business"
                    ],
                    "tags": [
                      "saas",
                      "productivity",
                      "collaboration"
                    ],
                    "featured": false,
                    "icon_url": "https://example.com/icon.png",
                    "status": "approved",
                    "review_notes": "Great tool, meets all quality standards. Approved for listing.",
                    "created_at": "2024-01-20T10:30:00.000Z",
                    "updated_at": "2024-01-20T16:45:00.000Z",
                    "reviewed_at": "2024-01-20T16:45:00.000Z"
                  },
                  "message": "Item approved successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid review status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Review status must be either 'approved' or 'rejected'"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Review status must be either 'approved' or 'rejected'"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Admin access required."
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Unauthorized. Admin access required."
                }
              }
            }
          },
          "404": {
            "description": "Item not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Item not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Item with ID 'awesome-productivity-tool' not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to review item"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/comments": {
      "get": {
        "tags": [
          "Admin - Comments"
        ],
        "summary": "List comments (Admin)",
        "description": "Returns a paginated list of comments with user information. Supports search across comment content, user name, and email. Comments are loaded from database with left join to user profiles. Excludes deleted comments. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of comments per page",
            "example": 10
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Search term for comment content, user name, or user email",
            "example": "great product"
          }
        ],
        "responses": {
          "200": {
            "description": "Comments list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "comments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "description": "Comment ID",
                                "example": "comment_123abc"
                              },
                              "content": {
                                "type": "string",
                                "description": "Comment content",
                                "example": "This is a great product! Highly recommended."
                              },
                              "rating": {
                                "type": "integer",
                                "nullable": true,
                                "minimum": 1,
                                "maximum": 5,
                                "description": "Rating given with the comment",
                                "example": 5
                              },
                              "userId": {
                                "type": "string",
                                "description": "ID of the user who wrote the comment",
                                "example": "user_456def"
                              },
                              "itemId": {
                                "type": "string",
                                "description": "ID of the item being commented on",
                                "example": "item_789ghi"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time",
                                "nullable": true,
                                "description": "Comment creation timestamp",
                                "example": "2024-01-20T10:30:00.000Z"
                              },
                              "updatedAt": {
                                "type": "string",
                                "format": "date-time",
                                "nullable": true,
                                "description": "Comment last update timestamp",
                                "example": "2024-01-20T14:45:00.000Z"
                              },
                              "user": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "description": "User ID",
                                    "example": "user_456def"
                                  },
                                  "name": {
                                    "type": "string",
                                    "nullable": true,
                                    "description": "User display name",
                                    "example": "John Doe"
                                  },
                                  "email": {
                                    "type": "string",
                                    "nullable": true,
                                    "description": "User email address",
                                    "example": "john.doe@example.com"
                                  },
                                  "image": {
                                    "type": "string",
                                    "nullable": true,
                                    "description": "User avatar image URL",
                                    "example": "https://example.com/avatar.jpg"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer",
                              "description": "Total number of comments",
                              "example": 156
                            },
                            "page": {
                              "type": "integer",
                              "description": "Current page number",
                              "example": 1
                            },
                            "limit": {
                              "type": "integer",
                              "description": "Number of comments per page",
                              "example": 10
                            },
                            "totalPages": {
                              "type": "integer",
                              "description": "Total number of pages",
                              "example": 16
                            }
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "comments": [
                      {
                        "id": "comment_123",
                        "content": "This is a great product! Really helpful for my workflow.",
                        "rating": 5,
                        "userId": "user_456",
                        "itemId": "item_789",
                        "createdAt": "2024-01-15T10:30:00.000Z",
                        "updatedAt": "2024-01-15T10:30:00.000Z",
                        "user": {
                          "id": "user_456",
                          "name": "John Doe",
                          "email": "john@example.com",
                          "image": "https://avatar.example.com/john.jpg"
                        }
                      },
                      {
                        "id": "comment_124",
                        "content": "Good tool but could use some improvements in the UI.",
                        "rating": 4,
                        "userId": "user_789",
                        "itemId": "item_456",
                        "createdAt": "2024-01-14T15:20:00.000Z",
                        "updatedAt": "2024-01-14T15:20:00.000Z",
                        "user": {
                          "id": "user_789",
                          "name": "Jane Smith",
                          "email": "jane@example.com",
                          "image": null
                        }
                      }
                    ],
                    "pagination": {
                      "total": 156,
                      "page": 1,
                      "limit": 10,
                      "totalPages": 16
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal Server Error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/comments/{id}": {
      "get": {
        "tags": [
          "Admin - Comments"
        ],
        "summary": "Get comment by ID (Admin)",
        "description": "Returns a specific comment by its ID with user information. Data is loaded from database with left join to client profiles. Handles soft-deleted comments and unknown users gracefully. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Comment ID",
            "example": "comment_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Comment retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Comment ID",
                          "example": "comment_123abc"
                        },
                        "content": {
                          "type": "string",
                          "description": "Comment content",
                          "example": "This is a great product! Highly recommended."
                        },
                        "rating": {
                          "type": "integer",
                          "nullable": true,
                          "minimum": 1,
                          "maximum": 5,
                          "description": "Rating given with the comment",
                          "example": 5
                        },
                        "userId": {
                          "type": "string",
                          "description": "ID of the user who wrote the comment",
                          "example": "user_456def"
                        },
                        "itemId": {
                          "type": "string",
                          "description": "ID of the item being commented on",
                          "example": "item_789ghi"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "description": "Comment creation timestamp",
                          "example": "2024-01-20T10:30:00.000Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "description": "Comment last update timestamp",
                          "example": "2024-01-20T14:45:00.000Z"
                        },
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "description": "User ID",
                              "example": "user_456def"
                            },
                            "name": {
                              "type": "string",
                              "nullable": true,
                              "description": "User display name",
                              "example": "John Doe"
                            },
                            "email": {
                              "type": "string",
                              "nullable": true,
                              "description": "User email address",
                              "example": "john.doe@example.com"
                            },
                            "image": {
                              "type": "string",
                              "nullable": true,
                              "description": "User avatar image URL",
                              "example": "https://example.com/avatar.jpg"
                            }
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "comment_123abc",
                    "content": "This is an excellent tool! Really helps with productivity and team collaboration.",
                    "rating": 5,
                    "userId": "user_456def",
                    "itemId": "awesome-productivity-tool",
                    "createdAt": "2024-01-15T10:30:00.123Z",
                    "updatedAt": "2024-01-15T10:30:00.123Z",
                    "user": {
                      "id": "user_456def",
                      "name": "John Doe",
                      "email": "john.doe@example.com",
                      "image": "https://cdn.example.com/avatars/johndoe.jpg"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "404": {
            "description": "Comment not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Comment not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Comment not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal Server Error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Admin - Comments"
        ],
        "summary": "Update comment (Admin)",
        "description": "Updates a comment's content. Validates that content is not empty, checks if comment exists and is not soft-deleted, then updates the content and returns the updated comment with user information. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Comment ID",
            "example": "comment_123abc"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "New comment content",
                    "minLength": 1,
                    "example": "This is an updated comment with more details."
                  }
                },
                "required": [
                  "content"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Comment updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Comment ID",
                          "example": "comment_123abc"
                        },
                        "content": {
                          "type": "string",
                          "description": "Updated comment content",
                          "example": "This is an updated comment with more details."
                        },
                        "rating": {
                          "type": "integer",
                          "nullable": true,
                          "minimum": 1,
                          "maximum": 5,
                          "description": "Rating given with the comment",
                          "example": 5
                        },
                        "userId": {
                          "type": "string",
                          "description": "ID of the user who wrote the comment",
                          "example": "user_456def"
                        },
                        "itemId": {
                          "type": "string",
                          "description": "ID of the item being commented on",
                          "example": "item_789ghi"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "description": "Comment creation timestamp",
                          "example": "2024-01-20T10:30:00.000Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "description": "Comment last update timestamp",
                          "example": "2024-01-20T16:15:00.000Z"
                        },
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "description": "User ID",
                              "example": "user_456def"
                            },
                            "name": {
                              "type": "string",
                              "nullable": true,
                              "description": "User display name",
                              "example": "John Doe"
                            },
                            "email": {
                              "type": "string",
                              "nullable": true,
                              "description": "User email address",
                              "example": "john.doe@example.com"
                            },
                            "image": {
                              "type": "string",
                              "nullable": true,
                              "description": "User avatar image URL",
                              "example": "https://example.com/avatar.jpg"
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Comment updated successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "comment_123abc",
                    "content": "This is an updated comment with more detailed feedback about the tool's features and usability.",
                    "rating": 5,
                    "userId": "user_456def",
                    "itemId": "awesome-productivity-tool",
                    "createdAt": "2024-01-15T10:30:00.123Z",
                    "updatedAt": "2024-01-16T14:20:00.123Z",
                    "user": {
                      "id": "user_456def",
                      "name": "John Doe",
                      "email": "john.doe@example.com",
                      "image": "https://cdn.example.com/avatars/johndoe.jpg"
                    }
                  },
                  "message": "Comment updated successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Content is required"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Content is required"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "404": {
            "description": "Comment not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Comment not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Comment not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal Server Error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin - Comments"
        ],
        "summary": "Delete comment (Admin)",
        "description": "Soft-deletes a comment by setting the deletedAt timestamp. Checks if comment exists and is not already deleted before performing the soft deletion. This preserves data integrity while hiding the comment from public view. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Comment ID to delete",
            "example": "comment_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Comment deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Comment deleted successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Comment deleted successfully"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "404": {
            "description": "Comment not found or already deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Comment not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Comment not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal Server Error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/roles": {
      "get": {
        "tags": [
          "Admin - Roles"
        ],
        "summary": "List roles (Admin)",
        "description": "Returns a paginated list of roles with filtering and sorting options. Roles are loaded from database via repository pattern. Supports pagination, status filtering, and sorting by multiple fields. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of roles per page",
            "example": 10
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            },
            "description": "Filter by role status",
            "example": "active"
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "id",
                "created_at"
              ],
              "default": "name"
            },
            "description": "Field to sort by",
            "example": "name"
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "description": "Sort order",
            "example": "asc"
          }
        ],
        "responses": {
          "200": {
            "description": "Roles list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "roles": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Role"
                      }
                    },
                    "total": {
                      "type": "integer",
                      "description": "Total number of roles",
                      "example": 25
                    },
                    "page": {
                      "type": "integer",
                      "description": "Current page number",
                      "example": 1
                    },
                    "limit": {
                      "type": "integer",
                      "description": "Number of roles per page",
                      "example": 10
                    },
                    "totalPages": {
                      "type": "integer",
                      "description": "Total number of pages",
                      "example": 3
                    }
                  },
                  "required": [
                    "success",
                    "roles",
                    "total",
                    "page",
                    "limit",
                    "totalPages"
                  ]
                },
                "example": {
                  "success": true,
                  "roles": [
                    {
                      "id": "admin",
                      "name": "Administrator",
                      "description": "Full system administrator with all permissions",
                      "status": "active",
                      "isAdmin": true,
                      "permissions": [
                        "users.read",
                        "users.write",
                        "roles.read",
                        "roles.write"
                      ],
                      "created_at": "2024-01-20T10:30:00.000Z",
                      "updated_at": "2024-01-20T10:30:00.000Z"
                    },
                    {
                      "id": "moderator",
                      "name": "Moderator",
                      "description": "Content moderator with limited admin permissions",
                      "status": "active",
                      "isAdmin": false,
                      "permissions": [
                        "items.read",
                        "items.moderate",
                        "comments.moderate"
                      ],
                      "created_at": "2024-01-19T15:20:00.000Z",
                      "updated_at": "2024-01-19T15:20:00.000Z"
                    }
                  ],
                  "total": 25,
                  "page": 1,
                  "limit": 10,
                  "totalPages": 3
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch roles"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch roles"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin - Roles"
        ],
        "summary": "Create role (Admin)",
        "description": "Creates a new role with comprehensive validation including name normalization, duplicate checking, and automatic ID generation. The role ID is automatically generated from the name using normalization and sanitization. Supports admin flag and status configuration.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 3,
                    "maxLength": 100,
                    "description": "Role name (will be used to generate ID)",
                    "example": "Content Moderator"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "description": "Role description",
                    "example": "Responsible for moderating user-generated content and ensuring quality standards"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "Role status",
                    "default": "active",
                    "example": "active"
                  },
                  "isAdmin": {
                    "type": "boolean",
                    "description": "Whether this role has admin privileges",
                    "default": false,
                    "example": false
                  }
                },
                "required": [
                  "name",
                  "description"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Role created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Role"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Role created successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "content-moderator",
                    "name": "Content Moderator",
                    "description": "Responsible for moderating user-generated content and ensuring quality standards",
                    "status": "active",
                    "isAdmin": false,
                    "permissions": [],
                    "created_at": "2024-01-20T10:30:00.000Z",
                    "updated_at": "2024-01-20T10:30:00.000Z"
                  },
                  "message": "Role created successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input or validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "missing_fields": "Missing required fields: name, description",
                        "invalid_name_length": "Role name must be between 3 and 100 characters",
                        "invalid_description_length": "Role description must be at most 500 characters",
                        "invalid_id": "Unable to derive a valid role ID from name"
                      }
                    }
                  }
                },
                "examples": {
                  "missing_fields": {
                    "summary": "Missing required fields",
                    "value": {
                      "success": false,
                      "error": "Missing required fields: name, description"
                    }
                  },
                  "invalid_name_length": {
                    "summary": "Invalid name length",
                    "value": {
                      "success": false,
                      "error": "Role name must be between 3 and 100 characters"
                    }
                  },
                  "invalid_description_length": {
                    "summary": "Description too long",
                    "value": {
                      "success": false,
                      "error": "Role description must be at most 500 characters"
                    }
                  },
                  "invalid_id": {
                    "summary": "Unable to generate valid ID",
                    "value": {
                      "success": false,
                      "error": "Unable to derive a valid role ID from name"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "409": {
            "description": "Conflict - Role with similar name already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Role with similar name already exists"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Role with similar name already exists"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to create role"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Failed to create role"
                }
              }
            }
          }
        }
      }
    },
    "/api/stripe/checkout": {
      "post": {
        "tags": [
          "Payments - Stripe"
        ],
        "summary": "Create checkout session",
        "description": "Creates a Stripe checkout session for payment processing",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CheckoutRequest"
              },
              "example": {
                "priceId": "price_1234567890",
                "mode": "subscription",
                "trialPeriodDays": 7,
                "billingInterval": "month",
                "successUrl": "https://example.com/success",
                "cancelUrl": "https://example.com/cancel",
                "metadata": {
                  "plan": "standard"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Checkout session created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckoutResponse"
                },
                "example": {
                  "success": true,
                  "sessionId": "cs_1234567890",
                  "url": "https://checkout.stripe.com/pay/cs_1234567890"
                }
              }
            }
          },
          "400": {
            "description": "Failed to create customer or invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to create customer",
                  "message": "Unable to create Stripe customer"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/stripe/subscriptions": {
      "get": {
        "tags": [
          "Payments - Stripe"
        ],
        "summary": "List user subscriptions",
        "description": "Returns all subscriptions for the current user",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of user subscriptions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionsResponse"
                },
                "example": {
                  "success": true,
                  "subscriptions": [
                    {
                      "id": "sub_1234567890",
                      "status": "active",
                      "current_period_start": 1640995200,
                      "current_period_end": 1643673600,
                      "plan": {
                        "id": "price_1234567890",
                        "nickname": "Standard Plan",
                        "amount": 1900,
                        "currency": "usd",
                        "interval": "month"
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/auth/change-password": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Change user password",
        "description": "Changes the authenticated user's password with comprehensive security measures including current password verification, strong password validation, rate limiting, duplicate password prevention, and email confirmation. Includes protection against OAuth accounts and sends security notification emails.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "currentPassword": {
                    "type": "string",
                    "description": "Current password for verification",
                    "example": "CurrentPass123!"
                  },
                  "newPassword": {
                    "type": "string",
                    "minLength": 8,
                    "pattern": "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^A-Za-z0-9]).{8,}$",
                    "description": "New password (min 8 chars, must contain uppercase, lowercase, number, and special character)",
                    "example": "NewSecurePass456@"
                  },
                  "confirmPassword": {
                    "type": "string",
                    "description": "Confirmation of new password (must match newPassword)",
                    "example": "NewSecurePass456@"
                  }
                },
                "required": [
                  "currentPassword",
                  "newPassword",
                  "confirmPassword"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password changed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Password changed successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Password changed successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Validation errors or business logic violations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "validation_error": "Invalid input data",
                        "wrong_current": "Current password is incorrect",
                        "same_password": "New password must be different from current password",
                        "oauth_account": "Password change not available for OAuth accounts. Please contact support."
                      }
                    },
                    "details": {
                      "type": "array",
                      "description": "Detailed validation errors (when applicable)",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "string",
                            "example": "too_small"
                          },
                          "minimum": {
                            "type": "integer",
                            "example": 8
                          },
                          "type": {
                            "type": "string",
                            "example": "string"
                          },
                          "inclusive": {
                            "type": "boolean",
                            "example": true
                          },
                          "exact": {
                            "type": "boolean",
                            "example": false
                          },
                          "message": {
                            "type": "string",
                            "example": "Password must be at least 8 characters"
                          },
                          "path": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "example": [
                              "newPassword"
                            ]
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "validation_error": {
                    "summary": "Password validation failed",
                    "value": {
                      "success": false,
                      "error": "Invalid input data",
                      "details": [
                        {
                          "code": "too_small",
                          "minimum": 8,
                          "type": "string",
                          "inclusive": true,
                          "exact": false,
                          "message": "Password must be at least 8 characters",
                          "path": [
                            "newPassword"
                          ]
                        }
                      ]
                    }
                  },
                  "incorrect_password": {
                    "summary": "Current password incorrect",
                    "value": {
                      "success": false,
                      "error": "Current password is incorrect"
                    }
                  },
                  "password_mismatch": {
                    "summary": "Passwords don't match",
                    "value": {
                      "success": false,
                      "error": "Passwords don't match"
                    }
                  },
                  "oauth_user": {
                    "summary": "OAuth user without password",
                    "value": {
                      "success": false,
                      "error": "Password change not available for OAuth accounts. Please contact support."
                    }
                  },
                  "same_password": {
                    "summary": "New password same as current",
                    "value": {
                      "success": false,
                      "error": "New password must be different from current password"
                    }
                  },
                  "wrong_current": {
                    "summary": "Current password incorrect",
                    "value": {
                      "success": false,
                      "error": "Current password is incorrect"
                    }
                  },
                  "oauth_account": {
                    "summary": "OAuth account restriction",
                    "value": {
                      "success": false,
                      "error": "Password change not available for OAuth accounts. Please contact support."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized. Please sign in."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "User not found"
                }
              }
            }
          },
          "429": {
            "description": "Too many requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Too many password change attempts. Please try again later."
                    },
                    "retryAfter": {
                      "type": "integer",
                      "description": "Seconds until next attempt is allowed",
                      "example": 900
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Too many password change attempts. Please try again later.",
                  "retryAfter": 900
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error. Please try again later."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/tags": {
      "get": {
        "tags": [
          "Admin - Tags"
        ],
        "summary": "List tags (Admin)",
        "description": "Returns a paginated list of all tags in the system. Used for tag management in admin interfaces. Includes pagination metadata and supports flexible page sizing. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of tags per page",
            "example": 10
          }
        ],
        "responses": {
          "200": {
            "description": "Tags list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "tags": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Tag"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "Total number of tags",
                          "example": 45
                        },
                        "page": {
                          "type": "integer",
                          "description": "Current page number",
                          "example": 1
                        },
                        "limit": {
                          "type": "integer",
                          "description": "Number of tags per page",
                          "example": 10
                        },
                        "totalPages": {
                          "type": "integer",
                          "description": "Total number of pages",
                          "example": 5
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "tags": [
                      {
                        "id": "productivity",
                        "name": "Productivity",
                        "isActive": true,
                        "itemCount": 156,
                        "created_at": "2024-01-20T10:30:00.000Z",
                        "updated_at": "2024-01-20T10:30:00.000Z"
                      },
                      {
                        "id": "design",
                        "name": "Design",
                        "isActive": true,
                        "itemCount": 89,
                        "created_at": "2024-01-19T15:20:00.000Z",
                        "updated_at": "2024-01-19T15:20:00.000Z"
                      },
                      {
                        "id": "development",
                        "name": "Development",
                        "isActive": false,
                        "itemCount": 234,
                        "created_at": "2024-01-18T09:15:00.000Z",
                        "updated_at": "2024-01-20T14:30:00.000Z"
                      }
                    ],
                    "total": 45,
                    "page": 1,
                    "limit": 10,
                    "totalPages": 5
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch tags"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin - Tags"
        ],
        "summary": "Create tag (Admin)",
        "description": "Creates a new tag with specified ID and name. The tag can be set as active or inactive. Used for expanding the tag taxonomy and organizing content. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Unique tag identifier (URL-friendly slug)",
                    "example": "artificial-intelligence"
                  },
                  "name": {
                    "type": "string",
                    "description": "Human-readable tag name",
                    "example": "Artificial Intelligence"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "Whether the tag is active and can be used",
                    "default": true,
                    "example": true
                  }
                },
                "required": [
                  "id",
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tag created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "tag": {
                      "$ref": "#/components/schemas/Tag"
                    }
                  },
                  "required": [
                    "success",
                    "tag"
                  ]
                },
                "example": {
                  "success": true,
                  "tag": {
                    "id": "artificial-intelligence",
                    "name": "Artificial Intelligence",
                    "isActive": true,
                    "itemCount": 0,
                    "created_at": "2024-01-20T10:30:00.000Z",
                    "updated_at": "2024-01-20T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input or validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "missing_fields": "Tag ID and name are required",
                        "validation_error": "Tag name must be between 2 and 50 characters"
                      }
                    }
                  }
                },
                "examples": {
                  "missing_fields": {
                    "summary": "Missing required fields",
                    "value": {
                      "success": false,
                      "error": "Tag ID and name are required"
                    }
                  },
                  "invalid_id": {
                    "summary": "Invalid ID format",
                    "value": {
                      "success": false,
                      "error": "Tag ID must contain only lowercase letters, numbers, and hyphens"
                    }
                  },
                  "invalid_length": {
                    "summary": "Invalid length",
                    "value": {
                      "success": false,
                      "error": "Tag name must be between 2 and 50 characters"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Tag with same ID or name already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Tag with ID 'artificial-intelligence' already exists"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Tag with this ID already exists"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to create tag"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/tags/{id}": {
      "get": {
        "tags": [
          "Admin - Tags"
        ],
        "summary": "Get tag by ID (Admin)",
        "description": "Retrieves a specific tag by its ID with complete details including usage statistics and metadata. Used for tag editing and detailed view in admin interfaces. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Tag ID",
            "example": "productivity"
          }
        ],
        "responses": {
          "200": {
            "description": "Tag retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Tag"
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "productivity",
                    "name": "Productivity",
                    "isActive": true,
                    "itemCount": 156,
                    "created_at": "2024-01-20T10:30:00.000Z",
                    "updated_at": "2024-01-20T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Tag not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Tag not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Tag not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch tag"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Admin - Tags"
        ],
        "summary": "Update tag (Admin)",
        "description": "Updates a specific tag's properties including name and active status. Used for tag management and maintenance. The tag ID cannot be changed after creation. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Tag ID to update",
            "example": "productivity"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Updated tag name",
                    "example": "Productivity & Efficiency"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "Whether the tag is active and can be used",
                    "example": true
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tag updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Tag"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Tag updated successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "productivity",
                    "name": "Productivity & Efficiency",
                    "isActive": true,
                    "itemCount": 156,
                    "created_at": "2024-01-20T10:30:00.000Z",
                    "updated_at": "2024-01-20T16:45:00.000Z"
                  },
                  "message": "Tag updated successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input or validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "missing_name": "Tag name is required",
                        "validation_error": "Tag name must be between 2 and 50 characters"
                      }
                    }
                  }
                },
                "examples": {
                  "missing_name": {
                    "summary": "Missing name",
                    "value": {
                      "success": false,
                      "error": "Tag name is required"
                    }
                  },
                  "invalid_length": {
                    "summary": "Invalid length",
                    "value": {
                      "success": false,
                      "error": "Tag name must be between 2 and 50 characters"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Tag not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Tag not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Tag not found"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Tag name already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Tag with name 'Productivity & Efficiency' already exists"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Tag with this name already exists"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to update tag"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin - Tags"
        ],
        "summary": "Delete tag (Admin)",
        "description": "Permanently deletes a specific tag from the system. This action will also remove the tag from all associated items. Use with caution as this operation cannot be undone. Consider deactivating the tag instead if you want to preserve data integrity. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Tag ID to delete",
            "example": "deprecated-tag"
          }
        ],
        "responses": {
          "200": {
            "description": "Tag deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Tag deleted successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Tag deleted successfully"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Tag not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Tag not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Tag not found"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError",
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to delete tag"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/roles/{id}": {
      "get": {
        "tags": [
          "Admin - Roles"
        ],
        "summary": "Get role by ID (Admin)",
        "description": "Retrieves a specific role by its ID with complete details including permissions, status, and metadata. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Role ID",
            "example": "admin"
          }
        ],
        "responses": {
          "200": {
            "description": "Role retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Role"
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "admin",
                    "name": "Administrator",
                    "description": "Full system administrator with all permissions",
                    "status": "active",
                    "isAdmin": true,
                    "permissions": [
                      "users.read",
                      "users.write",
                      "roles.read",
                      "roles.write",
                      "items.read",
                      "items.write"
                    ],
                    "created_at": "2024-01-20T10:30:00.000Z",
                    "updated_at": "2024-01-20T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "404": {
            "description": "Role not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Role not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Role not found"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch role"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch role"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Admin - Roles"
        ],
        "summary": "Update role (Admin)",
        "description": "Updates a specific role's properties including name, description, status, and admin privileges. All fields are optional and only provided fields will be updated. Includes comprehensive validation for name and description lengths. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Role ID to update",
            "example": "moderator"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 3,
                    "maxLength": 100,
                    "description": "Role name",
                    "example": "Senior Moderator"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "description": "Role description",
                    "example": "Senior content moderator with enhanced permissions and team leadership responsibilities"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "Role status",
                    "example": "active"
                  },
                  "isAdmin": {
                    "type": "boolean",
                    "description": "Whether this role has admin privileges",
                    "example": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Role updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Role"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message",
                      "example": "Role updated successfully"
                    }
                  },
                  "required": [
                    "success",
                    "data",
                    "message"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "moderator",
                    "name": "Senior Moderator",
                    "description": "Senior content moderator with enhanced permissions and team leadership responsibilities",
                    "status": "active",
                    "isAdmin": false,
                    "permissions": [
                      "items.read",
                      "items.moderate",
                      "comments.moderate",
                      "users.moderate"
                    ],
                    "created_at": "2024-01-19T15:20:00.000Z",
                    "updated_at": "2024-01-20T16:45:00.000Z"
                  },
                  "message": "Role updated successfully"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input or validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "examples": {
                        "empty_name": "Role name cannot be empty",
                        "invalid_name_length": "Role name must be between 3 and 100 characters",
                        "invalid_description_length": "Role description must be at most 500 characters"
                      }
                    }
                  }
                },
                "examples": {
                  "empty_name": {
                    "summary": "Empty role name",
                    "value": {
                      "success": false,
                      "error": "Role name cannot be empty"
                    }
                  },
                  "invalid_name_length": {
                    "summary": "Invalid name length",
                    "value": {
                      "success": false,
                      "error": "Role name must be between 3 and 100 characters"
                    }
                  },
                  "invalid_description_length": {
                    "summary": "Description too long",
                    "value": {
                      "success": false,
                      "error": "Role description must be at most 500 characters"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "404": {
            "description": "Role not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Role not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Role not found"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to update role"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Failed to update role"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin - Roles"
        ],
        "summary": "Delete role (Admin)",
        "description": "Deletes a specific role from the system. Supports both soft delete (default - marks as inactive) and hard delete (permanent removal). Hard delete completely removes the role and all associated data. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Role ID to delete",
            "example": "old-role"
          },
          {
            "name": "hard",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ],
              "default": "false"
            },
            "description": "Whether to perform hard delete (permanent) or soft delete (mark inactive)",
            "example": "false"
          }
        ],
        "responses": {
          "200": {
            "description": "Role deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message indicating deletion type",
                      "examples": {
                        "soft_delete": "Role deleted (marked as inactive)",
                        "hard_delete": "Role permanently deleted"
                      }
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                },
                "examples": {
                  "soft_delete": {
                    "summary": "Soft delete response",
                    "value": {
                      "success": true,
                      "message": "Role deleted (marked as inactive)"
                    }
                  },
                  "hard_delete": {
                    "summary": "Hard delete response",
                    "value": {
                      "success": true,
                      "message": "Role permanently deleted"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Forbidden"
                }
              }
            }
          },
          "404": {
            "description": "Role not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Role not found"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Role not found"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to delete role"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": "Failed to delete role"
                }
              }
            }
          }
        }
      }
    },
    "/api/lemonsqueezy/checkout": {
      "post": {
        "tags": [
          "Payments - LemonSqueezy"
        ],
        "summary": "Create LemonSqueezy checkout",
        "description": "Creates a LemonSqueezy checkout session for payment processing",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LemonSqueezyCheckoutRequest"
              },
              "example": {
                "variantId": "123456",
                "customPrice": 1900,
                "metadata": {
                  "plan": "standard",
                  "userId": "user_123"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Checkout URL created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LemonSqueezyCheckoutResponse"
                },
                "example": {
                  "success": true,
                  "checkoutUrl": "https://checkout.lemonsqueezy.com/checkout/custom/abc123"
                }
              }
            }
          },
          "400": {
            "description": "Validation error or invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "validation_error": {
                    "summary": "Invalid request body",
                    "value": {
                      "success": false,
                      "error": "VALIDATION_ERROR",
                      "message": "variantId is required"
                    }
                  },
                  "invalid_json": {
                    "summary": "Invalid JSON",
                    "value": {
                      "success": false,
                      "error": "VALIDATION_ERROR",
                      "message": "Invalid JSON in request body"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/lemonsqueezy/list": {
      "get": {
        "tags": [
          "Payments - LemonSqueezy"
        ],
        "summary": "List LemonSqueezy subscriptions",
        "description": "Returns a list of LemonSqueezy subscriptions with filtering options",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "Filter by subscription status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "cancelled",
                "expired",
                "on_trial",
                "paused",
                "past_due",
                "unpaid"
              ]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of items to return",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 50
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number for pagination",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "customerEmail",
            "in": "query",
            "description": "Filter by customer email",
            "schema": {
              "type": "string",
              "format": "email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of LemonSqueezy subscriptions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LemonSqueezySubscriptionsResponse"
                },
                "example": {
                  "success": true,
                  "subscriptions": [
                    {
                      "id": "123456",
                      "status": "active",
                      "customer_email": "user@example.com",
                      "product_name": "Standard Plan",
                      "variant_name": "Monthly",
                      "created_at": "2024-01-15T10:30:00Z",
                      "renews_at": "2024-02-15T10:30:00Z"
                    }
                  ],
                  "meta": {
                    "page": 1,
                    "per_page": 50,
                    "total": 1
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/admin/clients/advanced-search": {
      "get": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "Advanced client search",
        "description": "Performs advanced search on client profiles with multiple filters, sorting options, and date ranges. Supports field-specific searches, numeric filters, and boolean filters. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of clients per page",
            "example": 20
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "General search term for name, email, or username",
            "example": "john"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "suspended",
                "trial"
              ]
            },
            "description": "Filter by client status",
            "example": "active"
          },
          {
            "name": "plan",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "free",
                "standard",
                "premium"
              ]
            },
            "description": "Filter by subscription plan",
            "example": "premium"
          },
          {
            "name": "accountType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "individual",
                "business",
                "enterprise"
              ]
            },
            "description": "Filter by account type",
            "example": "business"
          },
          {
            "name": "provider",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Filter by authentication provider",
            "example": "google"
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "updatedAt",
                "name",
                "email",
                "company",
                "totalSubmissions"
              ]
            },
            "description": "Field to sort by",
            "example": "createdAt"
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "Sort order",
            "example": "desc"
          },
          {
            "name": "createdAfter",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter clients created after this date",
            "example": "2024-01-01T00:00:00.000Z"
          },
          {
            "name": "createdBefore",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter clients created before this date",
            "example": "2024-12-31T23:59:59.000Z"
          },
          {
            "name": "emailDomain",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Filter by email domain",
            "example": "example.com"
          },
          {
            "name": "companySearch",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Search in company names",
            "example": "Tech Corp"
          },
          {
            "name": "minSubmissions",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0
            },
            "description": "Minimum number of submissions",
            "example": 5
          },
          {
            "name": "maxSubmissions",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0
            },
            "description": "Maximum number of submissions",
            "example": 100
          },
          {
            "name": "emailVerified",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ]
            },
            "description": "Filter by email verification status",
            "example": "true"
          },
          {
            "name": "twoFactorEnabled",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ]
            },
            "description": "Filter by two-factor authentication status",
            "example": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Advanced search completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clients": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ClientProfile"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "limit": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 15
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 1
                            }
                          }
                        },
                        "searchMetadata": {
                          "type": "object",
                          "properties": {
                            "appliedFilters": {
                              "type": "object",
                              "description": "Summary of applied search filters"
                            },
                            "searchTime": {
                              "type": "number",
                              "description": "Search execution time in milliseconds",
                              "example": 45.2
                            }
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "clients": [
                      {
                        "id": "client_123abc",
                        "displayName": "John Doe",
                        "username": "johndoe",
                        "email": "john.doe@example.com",
                        "company": "Tech Corp Inc",
                        "status": "active",
                        "plan": "premium",
                        "accountType": "business",
                        "totalSubmissions": 25,
                        "emailVerified": true,
                        "twoFactorEnabled": true,
                        "createdAt": "2024-01-15T10:30:00.000Z",
                        "lastActiveAt": "2024-01-20T14:45:00.000Z"
                      }
                    ],
                    "pagination": {
                      "page": 1,
                      "limit": 20,
                      "total": 15,
                      "totalPages": 1
                    },
                    "searchMetadata": {
                      "appliedFilters": {
                        "status": "active",
                        "plan": "premium",
                        "emailVerified": true
                      },
                      "searchTime": 45.2
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to perform advanced search"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/clients/bulk": {
      "put": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "Bulk update client profiles",
        "description": "Updates multiple client profiles in a single request. Processes each client individually and returns detailed results including successes and failures. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "clients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Client ID (required)",
                          "example": "client_123abc"
                        },
                        "displayName": {
                          "type": "string",
                          "description": "Display name",
                          "example": "John Doe Updated"
                        },
                        "username": {
                          "type": "string",
                          "description": "Username",
                          "example": "johndoe_updated"
                        },
                        "bio": {
                          "type": "string",
                          "description": "Biography",
                          "example": "Senior Developer at Tech Corp"
                        },
                        "jobTitle": {
                          "type": "string",
                          "description": "Job title",
                          "example": "Lead Developer"
                        },
                        "company": {
                          "type": "string",
                          "description": "Company name",
                          "example": "Tech Corp Inc"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "active",
                            "inactive",
                            "suspended",
                            "trial"
                          ],
                          "description": "Account status",
                          "example": "active"
                        },
                        "plan": {
                          "type": "string",
                          "enum": [
                            "free",
                            "standard",
                            "premium"
                          ],
                          "description": "Subscription plan",
                          "example": "premium"
                        },
                        "accountType": {
                          "type": "string",
                          "enum": [
                            "individual",
                            "business",
                            "enterprise"
                          ],
                          "description": "Account type",
                          "example": "business"
                        }
                      },
                      "required": [
                        "id"
                      ]
                    },
                    "description": "Array of client updates",
                    "minItems": 1,
                    "maxItems": 100
                  }
                },
                "required": [
                  "clients"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Bulk update completed (may include partial failures)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Bulk update completed: 2 successful, 1 failed"
                    },
                    "results": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "index": {
                            "type": "integer",
                            "description": "Index in the original array",
                            "example": 0
                          },
                          "success": {
                            "type": "boolean",
                            "example": true
                          },
                          "data": {
                            "$ref": "#/components/schemas/ClientProfile"
                          }
                        }
                      }
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "index": {
                            "type": "integer",
                            "description": "Index in the original array",
                            "example": 2
                          },
                          "error": {
                            "type": "string",
                            "example": "Client not found"
                          },
                          "clientData": {
                            "type": "object",
                            "description": "Original client data that failed"
                          }
                        }
                      }
                    },
                    "summary": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "example": 3
                        },
                        "successful": {
                          "type": "integer",
                          "example": 2
                        },
                        "failed": {
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "message",
                    "results",
                    "errors",
                    "summary"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Bulk update completed: 2 successful, 1 failed",
                  "results": [
                    {
                      "index": 0,
                      "success": true,
                      "data": {
                        "id": "client_123abc",
                        "displayName": "John Doe Updated",
                        "username": "johndoe_updated",
                        "email": "john.doe@example.com",
                        "status": "active",
                        "plan": "premium",
                        "updatedAt": "2024-01-20T16:45:00.000Z"
                      }
                    },
                    {
                      "index": 1,
                      "success": true,
                      "data": {
                        "id": "client_456def",
                        "displayName": "Jane Smith Updated",
                        "username": "janesmith_updated",
                        "email": "jane.smith@example.com",
                        "status": "active",
                        "plan": "standard",
                        "updatedAt": "2024-01-20T16:45:00.000Z"
                      }
                    }
                  ],
                  "errors": [
                    {
                      "index": 2,
                      "error": "Client not found",
                      "clientData": {
                        "id": "client_nonexistent",
                        "displayName": "Non Existent"
                      }
                    }
                  ],
                  "summary": {
                    "total": 3,
                    "successful": 2,
                    "failed": 1
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Invalid request: clients array is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to process bulk update"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "Bulk delete client profiles",
        "description": "Deletes multiple client profiles in a single request. Processes each client individually and returns detailed results including successes and failures. This action cannot be undone. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "clients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Client ID to delete (required)",
                          "example": "client_123abc"
                        }
                      },
                      "required": [
                        "id"
                      ]
                    },
                    "description": "Array of client identifiers to delete",
                    "minItems": 1,
                    "maxItems": 100
                  }
                },
                "required": [
                  "clients"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Bulk deletion completed (may include partial failures)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Bulk deletion completed: 2 successful, 1 failed"
                    },
                    "results": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "index": {
                            "type": "integer",
                            "description": "Index in the original array",
                            "example": 0
                          },
                          "success": {
                            "type": "boolean",
                            "example": true
                          },
                          "clientId": {
                            "type": "string",
                            "description": "ID of the deleted client",
                            "example": "client_123abc"
                          }
                        }
                      }
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "index": {
                            "type": "integer",
                            "description": "Index in the original array",
                            "example": 2
                          },
                          "error": {
                            "type": "string",
                            "example": "Client not found"
                          },
                          "clientData": {
                            "type": "object",
                            "description": "Original client data that failed"
                          }
                        }
                      }
                    },
                    "summary": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "example": 3
                        },
                        "successful": {
                          "type": "integer",
                          "example": 2
                        },
                        "failed": {
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "message",
                    "results",
                    "errors",
                    "summary"
                  ]
                },
                "example": {
                  "success": true,
                  "message": "Bulk deletion completed: 2 successful, 1 failed",
                  "results": [
                    {
                      "index": 0,
                      "success": true,
                      "clientId": "client_123abc"
                    },
                    {
                      "index": 1,
                      "success": true,
                      "clientId": "client_456def"
                    }
                  ],
                  "errors": [
                    {
                      "index": 2,
                      "error": "Client not found",
                      "clientData": {
                        "id": "client_nonexistent"
                      }
                    }
                  ],
                  "summary": {
                    "total": 3,
                    "successful": 2,
                    "failed": 1
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Invalid request: clients array is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to process bulk deletion"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/clients/dashboard": {
      "get": {
        "tags": [
          "Admin - Clients"
        ],
        "summary": "Get admin dashboard data",
        "description": "Returns comprehensive dashboard data including client statistics, recent clients, and filtered client lists. Supports all filtering options from the main clients endpoint plus additional dashboard-specific metrics. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for client list pagination",
            "example": 1
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of clients per page",
            "example": 10
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Search term for client name or email",
            "example": "john"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "suspended",
                "trial"
              ]
            },
            "description": "Filter by client status",
            "example": "active"
          },
          {
            "name": "plan",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "free",
                "standard",
                "premium"
              ]
            },
            "description": "Filter by subscription plan",
            "example": "premium"
          },
          {
            "name": "accountType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "individual",
                "business",
                "enterprise"
              ]
            },
            "description": "Filter by account type",
            "example": "business"
          },
          {
            "name": "provider",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Filter by authentication provider",
            "example": "google"
          },
          {
            "name": "createdAfter",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter clients created after this date (YYYY-MM-DD)",
            "example": "2024-01-01"
          },
          {
            "name": "createdBefore",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter clients created before this date (YYYY-MM-DD)",
            "example": "2024-12-31"
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clients": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ClientProfile"
                          },
                          "description": "Paginated list of clients"
                        },
                        "stats": {
                          "type": "object",
                          "properties": {
                            "totalClients": {
                              "type": "integer",
                              "description": "Total number of clients",
                              "example": 1247
                            },
                            "activeClients": {
                              "type": "integer",
                              "description": "Number of active clients",
                              "example": 1156
                            },
                            "newClientsThisMonth": {
                              "type": "integer",
                              "description": "New clients registered this month",
                              "example": 45
                            },
                            "planDistribution": {
                              "type": "object",
                              "properties": {
                                "free": {
                                  "type": "integer",
                                  "example": 856
                                },
                                "standard": {
                                  "type": "integer",
                                  "example": 267
                                },
                                "premium": {
                                  "type": "integer",
                                  "example": 124
                                }
                              }
                            },
                            "accountTypeDistribution": {
                              "type": "object",
                              "properties": {
                                "individual": {
                                  "type": "integer",
                                  "example": 789
                                },
                                "business": {
                                  "type": "integer",
                                  "example": 356
                                },
                                "enterprise": {
                                  "type": "integer",
                                  "example": 102
                                }
                              }
                            },
                            "averageSubmissions": {
                              "type": "number",
                              "description": "Average submissions per client",
                              "example": 12.5
                            },
                            "topCompanies": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "company": {
                                    "type": "string",
                                    "example": "Tech Corp Inc"
                                  },
                                  "count": {
                                    "type": "integer",
                                    "example": 25
                                  }
                                }
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "limit": {
                              "type": "integer",
                              "example": 10
                            },
                            "total": {
                              "type": "integer",
                              "example": 1247
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 125
                            }
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                },
                "example": {
                  "success": true,
                  "data": {
                    "clients": [
                      {
                        "id": "client_123abc",
                        "displayName": "John Doe",
                        "username": "johndoe",
                        "email": "john.doe@example.com",
                        "company": "Tech Corp Inc",
                        "status": "active",
                        "plan": "premium",
                        "accountType": "business",
                        "totalSubmissions": 25,
                        "createdAt": "2024-01-15T10:30:00.000Z",
                        "lastActiveAt": "2024-01-20T14:45:00.000Z"
                      }
                    ],
                    "stats": {
                      "totalClients": 1247,
                      "activeClients": 1156,
                      "newClientsThisMonth": 45,
                      "planDistribution": {
                        "free": 856,
                        "standard": 267,
                        "premium": 124
                      },
                      "accountTypeDistribution": {
                        "individual": 789,
                        "business": 356,
                        "enterprise": 102
                      },
                      "averageSubmissions": 12.5,
                      "topCompanies": [
                        {
                          "company": "Tech Corp Inc",
                          "count": 25
                        },
                        {
                          "company": "StartupCo",
                          "count": 18
                        }
                      ]
                    },
                    "pagination": {
                      "page": 1,
                      "limit": 10,
                      "total": 1247,
                      "totalPages": 125
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch dashboard data"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/notifications/{id}/read": {
      "patch": {
        "tags": [
          "Admin - Notifications"
        ],
        "summary": "Mark specific notification as read",
        "description": "Marks a specific notification as read by its ID. Updates the isRead flag to true, sets readAt timestamp, and updates the updatedAt timestamp. Only the notification owner can mark their own notifications as read. Requires authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Notification ID to mark as read",
            "example": "notif_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Notification marked as read successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "notification": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Notification ID",
                          "example": "notif_123abc"
                        },
                        "userId": {
                          "type": "string",
                          "description": "User ID who owns the notification",
                          "example": "user_456def"
                        },
                        "type": {
                          "type": "string",
                          "description": "Notification type",
                          "example": "item_approved"
                        },
                        "title": {
                          "type": "string",
                          "description": "Notification title",
                          "example": "Item Approved"
                        },
                        "message": {
                          "type": "string",
                          "description": "Notification message",
                          "example": "Your item 'Awesome Tool' has been approved and is now live."
                        },
                        "data": {
                          "type": "string",
                          "nullable": true,
                          "description": "Additional data as JSON string",
                          "example": "{\"itemId\": \"item_789ghi\", \"itemName\": \"Awesome Tool\"}"
                        },
                        "isRead": {
                          "type": "boolean",
                          "description": "Read status (will be true after this operation)",
                          "example": true
                        },
                        "readAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "When the notification was marked as read",
                          "example": "2024-01-20T16:45:00.000Z"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "When the notification was created",
                          "example": "2024-01-20T10:30:00.000Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "When the notification was last updated",
                          "example": "2024-01-20T16:45:00.000Z"
                        }
                      }
                    }
                  },
                  "required": [
                    "success",
                    "notification"
                  ]
                },
                "example": {
                  "success": true,
                  "notification": {
                    "id": "notif_123abc",
                    "userId": "user_456def",
                    "type": "item_approved",
                    "title": "Item Approved",
                    "message": "Your item 'Awesome Tool' has been approved and is now live.",
                    "data": "{\"itemId\": \"item_789ghi\", \"itemName\": \"Awesome Tool\"}",
                    "isRead": true,
                    "readAt": "2024-01-20T16:45:00.000Z",
                    "createdAt": "2024-01-20T10:30:00.000Z",
                    "updatedAt": "2024-01-20T16:45:00.000Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Missing notification ID",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Notification ID is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Notification not found or not owned by user",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Notification not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/notifications/mark-all-read": {
      "patch": {
        "tags": [
          "Admin - Notifications"
        ],
        "summary": "Mark all notifications as read",
        "description": "Marks all unread notifications for the authenticated user as read. Updates the isRead flag to true, sets readAt timestamp, and updates the updatedAt timestamp. Returns the count of notifications that were updated. Requires authentication.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "All notifications marked as read successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "updatedCount": {
                      "type": "integer",
                      "description": "Number of notifications that were marked as read",
                      "example": 5
                    }
                  },
                  "required": [
                    "success",
                    "updatedCount"
                  ]
                },
                "example": {
                  "success": true,
                  "updatedCount": 5
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/roles/active": {
      "get": {
        "tags": [
          "Admin - Roles"
        ],
        "summary": "Get active roles",
        "description": "Returns a list of all active roles in the system. This endpoint is typically used for role selection in user management interfaces, dropdowns, and assignment forms. Only returns roles with 'active' status.",
        "responses": {
          "200": {
            "description": "Active roles retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "roles": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Role"
                      }
                    }
                  },
                  "required": [
                    "roles"
                  ]
                },
                "example": {
                  "roles": [
                    {
                      "id": "admin",
                      "name": "Administrator",
                      "description": "Full system administrator with all permissions",
                      "status": "active",
                      "isAdmin": true,
                      "permissions": [
                        "users.read",
                        "users.write",
                        "roles.read",
                        "roles.write"
                      ],
                      "created_at": "2024-01-20T10:30:00.000Z",
                      "updated_at": "2024-01-20T10:30:00.000Z"
                    },
                    {
                      "id": "moderator",
                      "name": "Moderator",
                      "description": "Content moderator with limited admin permissions",
                      "status": "active",
                      "isAdmin": false,
                      "permissions": [
                        "items.read",
                        "items.moderate",
                        "comments.moderate"
                      ],
                      "created_at": "2024-01-19T15:20:00.000Z",
                      "updated_at": "2024-01-19T15:20:00.000Z"
                    },
                    {
                      "id": "user",
                      "name": "Regular User",
                      "description": "Standard user with basic permissions",
                      "status": "active",
                      "isAdmin": false,
                      "permissions": [
                        "items.read",
                        "comments.read",
                        "comments.write"
                      ],
                      "created_at": "2024-01-18T09:15:00.000Z",
                      "updated_at": "2024-01-18T09:15:00.000Z"
                    }
                  ]
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch active roles"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/check-email": {
      "post": {
        "tags": [
          "Admin - Users"
        ],
        "summary": "Check email availability",
        "description": "Checks if an email address is available for use or already exists in the system. Supports excluding a specific user ID for update scenarios where a user keeps their current email. Used for real-time validation in user forms. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email address to check",
                    "example": "john.doe@example.com"
                  },
                  "excludeId": {
                    "type": "string",
                    "description": "User ID to exclude from the check (for updates)",
                    "example": "user_123abc"
                  }
                },
                "required": [
                  "email"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email availability check completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "available": {
                      "type": "boolean",
                      "description": "Whether the email is available for use",
                      "example": false
                    },
                    "exists": {
                      "type": "boolean",
                      "description": "Whether the email already exists in the system",
                      "example": true
                    }
                  },
                  "required": [
                    "available",
                    "exists"
                  ]
                },
                "examples": {
                  "email_available": {
                    "summary": "Email is available",
                    "value": {
                      "available": true,
                      "exists": false
                    }
                  },
                  "email_taken": {
                    "summary": "Email is already taken",
                    "value": {
                      "available": false,
                      "exists": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Email is required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Email is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/check-username": {
      "post": {
        "tags": [
          "Admin - Users"
        ],
        "summary": "Check username availability",
        "description": "Checks if a username is available for use or already exists in the system. Supports excluding a specific user ID for update scenarios where a user keeps their current username. Used for real-time validation in user forms and registration. Requires admin privileges.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "Username to check",
                    "example": "johndoe"
                  },
                  "excludeId": {
                    "type": "string",
                    "description": "User ID to exclude from the check (for updates)",
                    "example": "user_123abc"
                  }
                },
                "required": [
                  "username"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Username availability check completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "available": {
                      "type": "boolean",
                      "description": "Whether the username is available for use",
                      "example": false
                    },
                    "exists": {
                      "type": "boolean",
                      "description": "Whether the username already exists in the system",
                      "example": true
                    }
                  },
                  "required": [
                    "available",
                    "exists"
                  ]
                },
                "examples": {
                  "username_available": {
                    "summary": "Username is available",
                    "value": {
                      "available": true,
                      "exists": false
                    }
                  },
                  "username_taken": {
                    "summary": "Username is already taken",
                    "value": {
                      "available": false,
                      "exists": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Username is required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Username is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/{...nextauth}": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "NextAuth.js GET handler",
        "description": "Handles NextAuth.js GET requests including session retrieval, provider configuration, CSRF token generation, and authentication callbacks. This endpoint is managed by NextAuth.js and supports various authentication flows including OAuth providers, email sign-in, and session management.",
        "parameters": [
          {
            "name": "nextauth",
            "in": "path",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "description": "NextAuth.js dynamic route segments (e.g., ['signin'], ['session'], ['providers'], ['csrf'])",
            "examples": {
              "session": {
                "summary": "Get current session",
                "value": [
                  "session"
                ]
              },
              "providers": {
                "summary": "Get available providers",
                "value": [
                  "providers"
                ]
              },
              "csrf": {
                "summary": "Get CSRF token",
                "value": [
                  "csrf"
                ]
              },
              "signin": {
                "summary": "Sign-in page",
                "value": [
                  "signin"
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response (varies by endpoint)",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "description": "Session response",
                      "properties": {
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "example": "user_123abc"
                            },
                            "name": {
                              "type": "string",
                              "example": "John Doe"
                            },
                            "email": {
                              "type": "string",
                              "example": "john.doe@example.com"
                            },
                            "image": {
                              "type": "string",
                              "example": "https://example.com/avatar.jpg"
                            },
                            "isAdmin": {
                              "type": "boolean",
                              "example": false
                            }
                          }
                        },
                        "expires": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-02-20T10:30:00.000Z"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "description": "Providers response",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "type": {
                            "type": "string"
                          },
                          "signinUrl": {
                            "type": "string"
                          },
                          "callbackUrl": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    {
                      "type": "object",
                      "description": "CSRF token response",
                      "properties": {
                        "csrfToken": {
                          "type": "string",
                          "example": "abc123def456"
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "session_authenticated": {
                    "summary": "Authenticated session",
                    "value": {
                      "user": {
                        "id": "user_123abc",
                        "name": "John Doe",
                        "email": "john.doe@example.com",
                        "image": "https://example.com/avatar.jpg",
                        "isAdmin": false
                      },
                      "expires": "2024-02-20T10:30:00.000Z"
                    }
                  },
                  "session_unauthenticated": {
                    "summary": "Unauthenticated session",
                    "value": null
                  },
                  "providers": {
                    "summary": "Available providers",
                    "value": {
                      "google": {
                        "id": "google",
                        "name": "Google",
                        "type": "oauth",
                        "signinUrl": "/api/auth/signin/google",
                        "callbackUrl": "/api/auth/callback/google"
                      },
                      "github": {
                        "id": "github",
                        "name": "GitHub",
                        "type": "oauth",
                        "signinUrl": "/api/auth/signin/github",
                        "callbackUrl": "/api/auth/callback/github"
                      }
                    }
                  },
                  "csrf": {
                    "summary": "CSRF token",
                    "value": {
                      "csrfToken": "abc123def456ghi789"
                    }
                  }
                }
              },
              "text/html": {
                "schema": {
                  "type": "string",
                  "description": "HTML response for sign-in/sign-out pages"
                }
              }
            }
          },
          "302": {
            "description": "Redirect response for authentication flows"
          },
          "400": {
            "description": "Bad request - Invalid parameters or configuration"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "NextAuth.js POST handler",
        "description": "Handles NextAuth.js POST requests including sign-in, sign-out, callback processing, and session updates. Supports various authentication methods including OAuth providers, email/password, and magic links. Manages authentication state and session creation/destruction.",
        "parameters": [
          {
            "name": "nextauth",
            "in": "path",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "description": "NextAuth.js dynamic route segments",
            "examples": {
              "signin": {
                "summary": "Sign-in request",
                "value": [
                  "signin",
                  "credentials"
                ]
              },
              "signout": {
                "summary": "Sign-out request",
                "value": [
                  "signout"
                ]
              },
              "callback": {
                "summary": "OAuth callback",
                "value": [
                  "callback",
                  "google"
                ]
              }
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "type": "object",
                    "description": "Credentials sign-in",
                    "properties": {
                      "email": {
                        "type": "string",
                        "format": "email",
                        "description": "User email",
                        "example": "john.doe@example.com"
                      },
                      "password": {
                        "type": "string",
                        "description": "User password",
                        "example": "SecurePass123!"
                      },
                      "csrfToken": {
                        "type": "string",
                        "description": "CSRF protection token",
                        "example": "abc123def456"
                      }
                    },
                    "required": [
                      "email",
                      "password",
                      "csrfToken"
                    ]
                  },
                  {
                    "type": "object",
                    "description": "Email sign-in",
                    "properties": {
                      "email": {
                        "type": "string",
                        "format": "email",
                        "description": "User email for magic link",
                        "example": "john.doe@example.com"
                      },
                      "csrfToken": {
                        "type": "string",
                        "description": "CSRF protection token",
                        "example": "abc123def456"
                      }
                    },
                    "required": [
                      "email",
                      "csrfToken"
                    ]
                  },
                  {
                    "type": "object",
                    "description": "Sign-out request",
                    "properties": {
                      "csrfToken": {
                        "type": "string",
                        "description": "CSRF protection token",
                        "example": "abc123def456"
                      }
                    },
                    "required": [
                      "csrfToken"
                    ]
                  }
                ]
              }
            },
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "csrfToken": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful authentication response",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "description": "Successful sign-in",
                      "properties": {
                        "url": {
                          "type": "string",
                          "description": "Redirect URL after successful authentication",
                          "example": "/dashboard"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "description": "Email sent confirmation",
                      "properties": {
                        "url": {
                          "type": "string",
                          "description": "Redirect URL to check email page",
                          "example": "/auth/verify-request"
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "successful_signin": {
                    "summary": "Successful credentials sign-in",
                    "value": {
                      "url": "/dashboard"
                    }
                  },
                  "email_sent": {
                    "summary": "Magic link email sent",
                    "value": {
                      "url": "/auth/verify-request"
                    }
                  }
                }
              }
            }
          },
          "302": {
            "description": "Redirect response for successful authentication or OAuth flows"
          },
          "400": {
            "description": "Bad request - Invalid credentials or missing CSRF token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "examples": {
                        "invalid_credentials": "Invalid email or password",
                        "missing_csrf": "CSRF token missing",
                        "invalid_email": "Invalid email format"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication failed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Authentication failed"
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too many requests - Rate limit exceeded"
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/items/{itemId}/comments/{commentId}": {
      "delete": {
        "tags": [
          "Item Comments"
        ],
        "summary": "Delete comment",
        "description": "Deletes a specific comment. Only the comment author can delete their own comment. The comment is soft-deleted (marked as deleted) rather than permanently removed from the database. Requires user authentication and ownership verification.",
        "security": [
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Item ID that the comment belongs to",
            "example": "item_123abc"
          },
          {
            "name": "commentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Comment ID to delete",
            "example": "comment_456def"
          }
        ],
        "responses": {
          "204": {
            "description": "Comment deleted successfully (no content returned)"
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Comment not found, client profile not found, or not authorized to delete",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "examples": {
                    "client_not_found": "Client profile not found",
                    "comment_not_found": "Comment not found or not authorized"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/items/{itemId}/comments/rating": {
      "get": {
        "tags": [
          "Item Comments"
        ],
        "summary": "Get item rating statistics",
        "description": "Returns aggregated rating statistics for a specific item including average rating and total number of ratings. Only counts non-deleted comments. This is a public endpoint that doesn't require authentication and includes database availability checking.",
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Item ID to get rating statistics for",
            "example": "item_123abc"
          }
        ],
        "responses": {
          "200": {
            "description": "Rating statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "averageRating": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 5,
                      "description": "Average rating (0 if no ratings)",
                      "example": 4.2
                    },
                    "totalRatings": {
                      "type": "integer",
                      "minimum": 0,
                      "description": "Total number of ratings",
                      "example": 15
                    }
                  },
                  "required": [
                    "averageRating",
                    "totalRatings"
                  ]
                },
                "examples": {
                  "with_ratings": {
                    "summary": "Item with ratings",
                    "value": {
                      "averageRating": 4.2,
                      "totalRatings": 15
                    }
                  },
                  "no_ratings": {
                    "summary": "Item with no ratings",
                    "value": {
                      "averageRating": 0,
                      "totalRatings": 0
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error or database unavailable",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch ratings"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "sessionAuth": {
        "type": "apiKey",
        "in": "cookie",
        "name": "next-auth.session-token",
        "description": "Session-based authentication using NextAuth.js"
      }
    },
    "schemas": {
      "SafeUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique user identifier"
          },
          "name": {
            "type": "string",
            "nullable": true,
            "description": "User's display name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "nullable": true,
            "description": "User's email address"
          },
          "image": {
            "type": "string",
            "format": "uri",
            "nullable": true,
            "description": "URL to user's profile image"
          },
          "provider": {
            "type": "string",
            "nullable": true,
            "description": "Authentication provider used"
          },
          "isAdmin": {
            "type": "boolean",
            "description": "Whether the user has admin privileges"
          }
        },
        "required": [
          "id",
          "isAdmin"
        ]
      },
      "Favorite": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique favorite identifier"
          },
          "userId": {
            "type": "string",
            "description": "ID of the user who favorited the item"
          },
          "itemSlug": {
            "type": "string",
            "description": "Slug identifier of the favorited item"
          },
          "itemName": {
            "type": "string",
            "description": "Name of the favorited item"
          },
          "itemIconUrl": {
            "type": "string",
            "format": "uri",
            "nullable": true,
            "description": "URL to the item's icon"
          },
          "itemCategory": {
            "type": "string",
            "nullable": true,
            "description": "Category of the favorited item"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the favorite was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the favorite was last updated"
          }
        },
        "required": [
          "id",
          "userId",
          "itemSlug",
          "itemName",
          "createdAt",
          "updatedAt"
        ]
      },
      "FeaturedItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique featured item identifier"
          },
          "itemSlug": {
            "type": "string",
            "description": "Slug identifier of the featured item"
          },
          "itemName": {
            "type": "string",
            "description": "Name of the featured item"
          },
          "itemIconUrl": {
            "type": "string",
            "format": "uri",
            "nullable": true,
            "description": "URL to the item's icon"
          },
          "itemCategory": {
            "type": "string",
            "nullable": true,
            "description": "Category of the featured item"
          },
          "itemDescription": {
            "type": "string",
            "nullable": true,
            "description": "Description of the featured item"
          },
          "featuredOrder": {
            "type": "integer",
            "description": "Display order for featured items (higher numbers first)"
          },
          "featuredUntil": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "When the featured status expires (null means no expiration)"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the featured item is currently active"
          },
          "featuredBy": {
            "type": "string",
            "description": "ID of the admin user who featured this item"
          },
          "featuredAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the item was featured"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the featured item record was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the featured item record was last updated"
          }
        },
        "required": [
          "id",
          "itemSlug",
          "itemName",
          "featuredOrder",
          "isActive",
          "featuredBy",
          "featuredAt",
          "createdAt",
          "updatedAt"
        ]
      },
      "AddFavoriteRequest": {
        "type": "object",
        "properties": {
          "itemSlug": {
            "type": "string",
            "minLength": 1,
            "description": "Slug identifier of the item to favorite"
          },
          "itemName": {
            "type": "string",
            "minLength": 1,
            "description": "Name of the item to favorite"
          },
          "itemIconUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL to the item's icon"
          },
          "itemCategory": {
            "type": "string",
            "description": "Category of the item to favorite"
          }
        },
        "required": [
          "itemSlug",
          "itemName"
        ]
      },
      "FavoritesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "favorites": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Favorite"
            }
          }
        },
        "required": [
          "success",
          "favorites"
        ]
      },
      "AddFavoriteResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "favorite": {
            "$ref": "#/components/schemas/Favorite"
          }
        },
        "required": [
          "success",
          "favorite"
        ]
      },
      "FeaturedItemsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FeaturedItem"
            }
          },
          "count": {
            "type": "integer",
            "description": "Number of items returned"
          }
        },
        "required": [
          "success",
          "data",
          "count"
        ]
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "Success message"
          }
        },
        "required": [
          "success"
        ]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "error": {
            "type": "string",
            "description": "Error message"
          },
          "details": {
            "type": "string",
            "description": "Additional error details"
          }
        },
        "required": [
          "success",
          "error"
        ]
      },
      "ErrorResponseWithDetails": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Error message"
          },
          "details": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "string",
                  "description": "Error code"
                },
                "message": {
                  "type": "string",
                  "description": "Detailed error message"
                },
                "path": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Field path where error occurred"
                }
              }
            },
            "description": "Detailed validation errors (when applicable)"
          }
        },
        "required": [
          "error"
        ]
      },
      "RecaptchaRequest": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "reCAPTCHA token from the client"
          }
        },
        "required": [
          "token"
        ]
      },
      "RecaptchaResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the reCAPTCHA verification was successful"
          },
          "score": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Score for reCAPTCHA v3 (0.0 to 1.0)"
          },
          "action": {
            "type": "string",
            "description": "Action name for reCAPTCHA v3"
          },
          "hostname": {
            "type": "string",
            "description": "Hostname of the site where the reCAPTCHA was solved"
          },
          "challenge_ts": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of the challenge"
          },
          "error_codes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Error codes if verification failed"
          }
        },
        "required": [
          "success"
        ]
      },
      "VersionInfo": {
        "type": "object",
        "properties": {
          "commit": {
            "type": "string",
            "description": "Short commit hash"
          },
          "date": {
            "type": "string",
            "format": "date-time",
            "description": "Commit date"
          },
          "message": {
            "type": "string",
            "description": "Commit message"
          },
          "author": {
            "type": "string",
            "description": "Commit author"
          },
          "repository": {
            "type": "string",
            "description": "Repository URL or identifier"
          },
          "lastSync": {
            "type": "string",
            "format": "date-time",
            "description": "Last synchronization timestamp"
          },
          "branch": {
            "type": "string",
            "description": "Current branch name"
          }
        },
        "required": [
          "commit",
          "date",
          "message",
          "author",
          "repository",
          "lastSync",
          "branch"
        ]
      },
      "VersionErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Error message"
          },
          "code": {
            "type": "string",
            "enum": [
              "REPOSITORY_NOT_FOUND",
              "NO_COMMITS",
              "SYNC_FAILED",
              "GIT_ERROR",
              "INTERNAL_ERROR",
              "VALIDATION_ERROR"
            ],
            "description": "Error code"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Error timestamp"
          },
          "details": {
            "type": "string",
            "description": "Additional error details"
          }
        },
        "required": [
          "error",
          "code",
          "timestamp"
        ]
      },
      "Category": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique category identifier"
          },
          "name": {
            "type": "string",
            "description": "Category name"
          },
          "count": {
            "type": "integer",
            "description": "Number of items in this category (optional, only in some contexts)"
          },
          "isInactive": {
            "type": "boolean",
            "description": "Whether the category is inactive (optional, only in some contexts)"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "CreateCategoryRequest": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "minLength": 3,
            "maxLength": 50,
            "description": "Category identifier (required, must be 3-50 characters)"
          },
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 50,
            "description": "Category name (required, must be 2-50 characters)"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "CategoriesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "categories": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Category"
            }
          },
          "total": {
            "type": "integer",
            "description": "Total number of categories"
          },
          "page": {
            "type": "integer",
            "description": "Current page number"
          },
          "limit": {
            "type": "integer",
            "description": "Number of items per page"
          },
          "totalPages": {
            "type": "integer",
            "description": "Total number of pages"
          }
        },
        "required": [
          "success",
          "categories",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "GetCategoryResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Category"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UpdateCategoryRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 50,
            "description": "Updated category name",
            "example": "Enhanced Productivity Tools"
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdateCategoryResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Category"
          },
          "message": {
            "type": "string",
            "example": "Category updated successfully"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "DeleteCategoryResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Category deleted successfully"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "CreateCategoryResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "category": {
            "$ref": "#/components/schemas/Category"
          },
          "message": {
            "type": "string",
            "description": "Success message"
          }
        },
        "required": [
          "success",
          "category"
        ]
      },
      "PaymentMethod": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Stripe payment method ID"
          },
          "type": {
            "type": "string",
            "description": "Payment method type (e.g., 'card')"
          },
          "card": {
            "type": "object",
            "properties": {
              "brand": {
                "type": "string",
                "description": "Card brand (visa, mastercard, etc.)"
              },
              "last4": {
                "type": "string",
                "description": "Last 4 digits of the card"
              },
              "funding": {
                "type": "string",
                "description": "Card funding type (credit, debit, etc.)"
              },
              "country": {
                "type": "string",
                "description": "Country code where the card was issued"
              }
            }
          },
          "billing_details": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "nullable": true,
                "description": "Cardholder name"
              },
              "email": {
                "type": "string",
                "format": "email",
                "nullable": true,
                "description": "Cardholder email"
              }
            }
          },
          "created": {
            "type": "integer",
            "description": "Unix timestamp when the payment method was created"
          },
          "is_default": {
            "type": "boolean",
            "description": "Whether this is the default payment method"
          }
        },
        "required": [
          "id",
          "type",
          "created"
        ]
      },
      "PaymentMethodsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentMethod"
            }
          },
          "message": {
            "type": "string",
            "description": "Response message"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "Comment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique comment identifier"
          },
          "content": {
            "type": "string",
            "description": "Comment content"
          },
          "rating": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5,
            "description": "Rating given with the comment (1-5 stars)"
          },
          "userId": {
            "type": "string",
            "description": "ID of the user who created the comment"
          },
          "itemId": {
            "type": "string",
            "description": "ID of the item being commented on"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the comment was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the comment was last updated"
          }
        },
        "required": [
          "id",
          "content",
          "rating",
          "userId",
          "itemId",
          "createdAt"
        ]
      },
      "CommentWithUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique comment identifier"
          },
          "content": {
            "type": "string",
            "description": "Comment content"
          },
          "rating": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5,
            "description": "Rating given to the item (1-5 scale)"
          },
          "userId": {
            "type": "string",
            "description": "ID of the user who created the comment"
          },
          "itemId": {
            "type": "string",
            "description": "ID of the item being commented on"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Comment creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Comment last update timestamp"
          },
          "user": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "User ID"
              },
              "name": {
                "type": "string",
                "nullable": true,
                "description": "User display name"
              },
              "email": {
                "type": "string",
                "nullable": true,
                "description": "User email address"
              },
              "image": {
                "type": "string",
                "nullable": true,
                "description": "User avatar image URL"
              }
            },
            "required": [
              "id"
            ],
            "description": "User information for the comment author"
          }
        },
        "required": [
          "id",
          "content",
          "rating",
          "userId",
          "itemId",
          "createdAt",
          "updatedAt",
          "user"
        ]
      },
      "CreateCommentRequest": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "minLength": 1,
            "description": "Comment content (required, cannot be empty)"
          },
          "rating": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5,
            "description": "Rating for the item (required, 1-5 scale)"
          }
        },
        "required": [
          "content",
          "rating"
        ]
      },
      "CommentsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "comments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CommentWithUser"
            },
            "description": "Array of comments with user information"
          }
        },
        "required": [
          "success",
          "comments"
        ]
      },
      "CreateCommentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "comment": {
            "$ref": "#/components/schemas/CommentWithUser"
          }
        },
        "required": [
          "success",
          "comment"
        ]
      },
      "VoteRequest": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "up",
              "down"
            ],
            "description": "Vote type: 'up' for upvote, 'down' for downvote"
          }
        },
        "required": [
          "type"
        ]
      },
      "VoteResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "count": {
            "type": "integer",
            "description": "Total vote count for the item (upvotes - downvotes)"
          },
          "userVote": {
            "type": "string",
            "enum": [
              "up",
              "down"
            ],
            "nullable": true,
            "description": "Current user's vote status: 'up', 'down', or null if not voted"
          }
        },
        "required": [
          "success",
          "count",
          "userVote"
        ]
      },
      "VoteCountResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "count": {
            "type": "integer",
            "description": "Total vote count for the item (upvotes - downvotes)",
            "example": 42
          }
        },
        "required": [
          "success",
          "count"
        ]
      },
      "AdminFeaturedItemsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FeaturedItem"
            },
            "description": "Array of featured items"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationInfo"
          }
        },
        "required": [
          "success",
          "data",
          "pagination"
        ]
      },
      "CreateFeaturedItemRequest": {
        "type": "object",
        "properties": {
          "itemSlug": {
            "type": "string",
            "minLength": 1,
            "description": "Unique slug identifier of the item to feature",
            "example": "awesome-productivity-tool"
          },
          "itemName": {
            "type": "string",
            "minLength": 1,
            "description": "Name of the item to feature",
            "example": "Awesome Productivity Tool"
          },
          "itemIconUrl": {
            "type": "string",
            "format": "uri",
            "nullable": true,
            "description": "URL to the item's icon",
            "example": "https://cdn.example.com/icons/productivity-tool.png"
          },
          "itemCategory": {
            "type": "string",
            "nullable": true,
            "description": "Category of the item",
            "example": "Productivity"
          },
          "itemDescription": {
            "type": "string",
            "nullable": true,
            "description": "Description of the item",
            "example": "A powerful tool to boost your productivity"
          },
          "featuredOrder": {
            "type": "integer",
            "default": 0,
            "description": "Display order for featured items (higher numbers first)",
            "example": 10
          },
          "featuredUntil": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "When the featured status expires (null means no expiration)",
            "example": "2024-12-31T23:59:59.000Z"
          }
        },
        "required": [
          "itemSlug",
          "itemName"
        ]
      },
      "CreateFeaturedItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/FeaturedItem"
          },
          "message": {
            "type": "string",
            "example": "Item featured successfully"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "PaginationInfo": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "description": "Current page number",
            "example": 1
          },
          "limit": {
            "type": "integer",
            "description": "Number of items per page",
            "example": 10
          },
          "total": {
            "type": "integer",
            "description": "Total number of items",
            "example": 25
          },
          "totalPages": {
            "type": "integer",
            "description": "Total number of pages",
            "example": 3
          },
          "hasNext": {
            "type": "boolean",
            "description": "Whether there is a next page",
            "example": true
          },
          "hasPrev": {
            "type": "boolean",
            "description": "Whether there is a previous page",
            "example": false
          }
        },
        "required": [
          "page",
          "limit",
          "total",
          "totalPages",
          "hasNext",
          "hasPrev"
        ]
      },
      "GetFeaturedItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/FeaturedItem"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UpdateFeaturedItemRequest": {
        "type": "object",
        "properties": {
          "itemName": {
            "type": "string",
            "minLength": 1,
            "description": "Name of the item (optional)",
            "example": "Updated Productivity Tool"
          },
          "itemIconUrl": {
            "type": "string",
            "format": "uri",
            "nullable": true,
            "description": "URL to the item's icon (optional)",
            "example": "https://cdn.example.com/icons/updated-tool.png"
          },
          "itemCategory": {
            "type": "string",
            "nullable": true,
            "description": "Category of the item (optional)",
            "example": "Productivity"
          },
          "itemDescription": {
            "type": "string",
            "nullable": true,
            "description": "Description of the item (optional)",
            "example": "An even more powerful tool to boost your productivity"
          },
          "featuredOrder": {
            "type": "integer",
            "description": "Display order for featured items (optional)",
            "example": 15
          },
          "featuredUntil": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "When the featured status expires (optional)",
            "example": "2024-12-31T23:59:59.000Z"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the featured item is active (optional)",
            "example": true
          }
        }
      },
      "UpdateFeaturedItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/FeaturedItem"
          },
          "message": {
            "type": "string",
            "example": "Featured item updated successfully"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "DeleteFeaturedItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Featured item removed successfully"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "AdminDashboardStatsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/AdminDashboardStats"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "AdminDashboardStats": {
        "type": "object",
        "properties": {
          "totalUsers": {
            "type": "integer",
            "description": "Total number of users in the system",
            "example": 1250
          },
          "registeredUsers": {
            "type": "integer",
            "description": "Number of registered (non-deleted) users",
            "example": 1180
          },
          "newUsersToday": {
            "type": "integer",
            "description": "Number of users who signed up today",
            "example": 15
          },
          "newUsersLast7Days": {
            "type": "integer",
            "description": "Number of users who signed up in the last 7 days",
            "example": 89
          },
          "newUsersLast30Days": {
            "type": "integer",
            "description": "Number of users who signed up in the last 30 days",
            "example": 342
          },
          "totalViews": {
            "type": "integer",
            "description": "Total number of item views (currently 0 as not tracked)",
            "example": 45230
          },
          "totalVotes": {
            "type": "integer",
            "description": "Total number of votes cast",
            "example": 8920
          },
          "totalComments": {
            "type": "integer",
            "description": "Total number of comments (excluding deleted)",
            "example": 3450
          },
          "totalSubscribers": {
            "type": "integer",
            "description": "Total number of active newsletter subscribers",
            "example": 890
          },
          "recentSubscribers": {
            "type": "integer",
            "description": "Number of subscribers who joined this week",
            "example": 23
          },
          "totalSubmissions": {
            "type": "integer",
            "description": "Total number of item submissions",
            "example": 567
          },
          "pendingSubmissions": {
            "type": "integer",
            "description": "Number of submissions awaiting review",
            "example": 45
          },
          "approvedSubmissions": {
            "type": "integer",
            "description": "Number of approved submissions",
            "example": 489
          },
          "rejectedSubmissions": {
            "type": "integer",
            "description": "Number of rejected submissions",
            "example": 33
          },
          "submissionStatusData": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SubmissionStatusData"
            },
            "description": "Submission status breakdown for charts"
          },
          "userGrowthData": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserGrowthData"
            },
            "description": "User growth trends over time"
          },
          "activityTrendData": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActivityTrendData"
            },
            "description": "Activity trends over time"
          },
          "topItemsData": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TopItemData"
            },
            "description": "Top performing items by views and votes"
          },
          "recentActivity": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RecentActivityData"
            },
            "description": "Recent platform activity"
          }
        },
        "required": [
          "totalUsers",
          "registeredUsers",
          "newUsersToday",
          "newUsersLast7Days",
          "newUsersLast30Days",
          "totalViews",
          "totalVotes",
          "totalComments",
          "totalSubscribers",
          "recentSubscribers",
          "totalSubmissions",
          "pendingSubmissions",
          "approvedSubmissions",
          "rejectedSubmissions",
          "submissionStatusData",
          "userGrowthData",
          "activityTrendData",
          "topItemsData",
          "recentActivity"
        ]
      },
      "SubmissionStatusData": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "Approved",
              "Pending",
              "Rejected"
            ],
            "description": "Submission status"
          },
          "count": {
            "type": "integer",
            "description": "Number of submissions with this status"
          },
          "color": {
            "type": "string",
            "description": "Color code for chart display",
            "example": "#10B981"
          }
        },
        "required": [
          "status",
          "count",
          "color"
        ]
      },
      "UserGrowthData": {
        "type": "object",
        "properties": {
          "month": {
            "type": "string",
            "description": "Month in YYYY-MM format",
            "example": "2024-01"
          },
          "users": {
            "type": "integer",
            "description": "Total users at end of month"
          },
          "active": {
            "type": "integer",
            "description": "Active users in that month"
          }
        },
        "required": [
          "month",
          "users",
          "active"
        ]
      },
      "ActivityTrendData": {
        "type": "object",
        "properties": {
          "day": {
            "type": "string",
            "format": "date",
            "description": "Date in YYYY-MM-DD format",
            "example": "2024-01-15"
          },
          "views": {
            "type": "integer",
            "description": "Number of views on this day"
          },
          "votes": {
            "type": "integer",
            "description": "Number of votes on this day"
          },
          "comments": {
            "type": "integer",
            "description": "Number of comments on this day"
          }
        },
        "required": [
          "day",
          "views",
          "votes",
          "comments"
        ]
      },
      "TopItemData": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the item"
          },
          "views": {
            "type": "integer",
            "description": "Number of views"
          },
          "votes": {
            "type": "integer",
            "description": "Number of votes"
          },
          "category": {
            "type": "string",
            "nullable": true,
            "description": "Item category (optional)"
          }
        },
        "required": [
          "name",
          "views",
          "votes"
        ]
      },
      "RecentActivityData": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "user_signup",
              "submission",
              "comment",
              "vote"
            ],
            "description": "Type of activity"
          },
          "description": {
            "type": "string",
            "description": "Human-readable description of the activity"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "When the activity occurred"
          },
          "user": {
            "type": "string",
            "nullable": true,
            "description": "User identifier (email or user ID)"
          }
        },
        "required": [
          "type",
          "description",
          "timestamp"
        ]
      },
      "AdminItemStatsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/ItemStats"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "ItemStats": {
        "type": "object",
        "properties": {
          "total": {
            "type": "integer",
            "description": "Total number of items in the system",
            "example": 567
          },
          "draft": {
            "type": "integer",
            "description": "Number of items with draft status",
            "example": 23
          },
          "pending": {
            "type": "integer",
            "description": "Number of items with pending status (awaiting review)",
            "example": 45
          },
          "approved": {
            "type": "integer",
            "description": "Number of items with approved status",
            "example": 489
          },
          "rejected": {
            "type": "integer",
            "description": "Number of items with rejected status",
            "example": 10
          }
        },
        "required": [
          "total",
          "draft",
          "pending",
          "approved",
          "rejected"
        ]
      },
      "AdminUserStatsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/UserStats"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UserStats": {
        "type": "object",
        "properties": {
          "total": {
            "type": "integer",
            "description": "Total number of users in the system",
            "example": 1250
          },
          "active": {
            "type": "integer",
            "description": "Number of active users",
            "example": 1180
          },
          "inactive": {
            "type": "integer",
            "description": "Number of inactive users",
            "example": 70
          }
        },
        "required": [
          "total",
          "active",
          "inactive"
        ]
      },
      "AdminRoleStatsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/RoleStats"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "RoleStats": {
        "type": "object",
        "properties": {
          "total": {
            "type": "integer",
            "description": "Total number of roles in the system",
            "example": 8
          },
          "active": {
            "type": "integer",
            "description": "Number of roles with active status",
            "example": 6
          },
          "inactive": {
            "type": "integer",
            "description": "Number of roles with inactive status",
            "example": 2
          },
          "averagePermissions": {
            "type": "number",
            "description": "Average number of permissions per role (rounded to 1 decimal place)",
            "example": 12.5
          }
        },
        "required": [
          "total",
          "active",
          "inactive",
          "averagePermissions"
        ]
      },
      "AdminClientStatsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/ClientStats"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "ClientStats": {
        "type": "object",
        "properties": {
          "overview": {
            "$ref": "#/components/schemas/ClientOverviewStats"
          },
          "byProvider": {
            "$ref": "#/components/schemas/ClientProviderStats"
          },
          "byPlan": {
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Client count by plan (free, standard, premium)",
            "example": {
              "free": 800,
              "standard": 350,
              "premium": 100
            }
          },
          "byAccountType": {
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Client count by account type (individual, business, enterprise)",
            "example": {
              "individual": 900,
              "business": 280,
              "enterprise": 70
            }
          },
          "byStatus": {
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Client count by status (active, inactive, suspended, trial)",
            "example": {
              "active": 980,
              "inactive": 150,
              "suspended": 70,
              "trial": 50
            }
          },
          "activity": {
            "$ref": "#/components/schemas/ClientActivityStats"
          },
          "growth": {
            "$ref": "#/components/schemas/ClientGrowthStats"
          }
        },
        "required": [
          "overview",
          "byProvider",
          "byPlan",
          "byAccountType",
          "byStatus",
          "activity",
          "growth"
        ]
      },
      "ClientOverviewStats": {
        "type": "object",
        "properties": {
          "total": {
            "type": "integer",
            "description": "Total number of clients",
            "example": 1250
          },
          "active": {
            "type": "integer",
            "description": "Number of active clients",
            "example": 980
          },
          "inactive": {
            "type": "integer",
            "description": "Number of inactive clients",
            "example": 150
          },
          "suspended": {
            "type": "integer",
            "description": "Number of suspended clients",
            "example": 70
          },
          "trial": {
            "type": "integer",
            "description": "Number of clients on trial",
            "example": 50
          }
        },
        "required": [
          "total",
          "active",
          "inactive",
          "suspended",
          "trial"
        ]
      },
      "ClientProviderStats": {
        "type": "object",
        "properties": {
          "credentials": {
            "type": "integer",
            "description": "Clients using email/password authentication",
            "example": 650
          },
          "google": {
            "type": "integer",
            "description": "Clients using Google OAuth",
            "example": 320
          },
          "github": {
            "type": "integer",
            "description": "Clients using GitHub OAuth",
            "example": 180
          },
          "facebook": {
            "type": "integer",
            "description": "Clients using Facebook OAuth",
            "example": 60
          },
          "twitter": {
            "type": "integer",
            "description": "Clients using Twitter OAuth",
            "example": 25
          },
          "linkedin": {
            "type": "integer",
            "description": "Clients using LinkedIn OAuth",
            "example": 10
          },
          "other": {
            "type": "integer",
            "description": "Clients using other authentication providers",
            "example": 5
          }
        },
        "required": [
          "credentials",
          "google",
          "github",
          "facebook",
          "twitter",
          "linkedin",
          "other"
        ]
      },
      "ClientActivityStats": {
        "type": "object",
        "properties": {
          "newThisWeek": {
            "type": "integer",
            "description": "New clients registered this week",
            "example": 45
          },
          "newThisMonth": {
            "type": "integer",
            "description": "New clients registered this month",
            "example": 180
          },
          "activeThisWeek": {
            "type": "integer",
            "description": "Clients active this week",
            "example": 650
          },
          "activeThisMonth": {
            "type": "integer",
            "description": "Clients active this month",
            "example": 890
          }
        },
        "required": [
          "newThisWeek",
          "newThisMonth",
          "activeThisWeek",
          "activeThisMonth"
        ]
      },
      "ClientGrowthStats": {
        "type": "object",
        "properties": {
          "weeklyGrowth": {
            "type": "number",
            "description": "Weekly growth percentage",
            "example": 12.5
          },
          "monthlyGrowth": {
            "type": "number",
            "description": "Monthly growth percentage",
            "example": 8.3
          }
        },
        "required": [
          "weeklyGrowth",
          "monthlyGrowth"
        ]
      },
      "AdminNotificationsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/NotificationsData"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "NotificationsData": {
        "type": "object",
        "properties": {
          "notifications": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Notification"
            },
            "description": "Array of notifications (limited to 50 most recent)"
          },
          "unreadCount": {
            "type": "integer",
            "description": "Number of unread notifications",
            "example": 1
          }
        },
        "required": [
          "notifications",
          "unreadCount"
        ]
      },
      "Notification": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique notification identifier",
            "example": "notif_123"
          },
          "userId": {
            "type": "string",
            "description": "ID of the user who receives the notification",
            "example": "admin_456"
          },
          "type": {
            "type": "string",
            "description": "Type of notification",
            "example": "item_submission"
          },
          "title": {
            "type": "string",
            "description": "Notification title",
            "example": "New Item Submission"
          },
          "message": {
            "type": "string",
            "description": "Notification message content",
            "example": "A new item 'Awesome Tool' has been submitted by john@example.com and requires review."
          },
          "data": {
            "type": "string",
            "nullable": true,
            "description": "JSON stringified additional data",
            "example": "{\"itemId\":\"item_789\",\"itemName\":\"Awesome Tool\",\"submittedBy\":\"john@example.com\",\"actionUrl\":\"/admin/items/item_789\"}"
          },
          "isRead": {
            "type": "boolean",
            "description": "Whether the notification has been read",
            "example": false
          },
          "readAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "When the notification was read",
            "example": null
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the notification was created",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the notification was last updated",
            "example": "2024-01-15T10:30:00.000Z"
          }
        },
        "required": [
          "id",
          "userId",
          "type",
          "title",
          "message",
          "isRead",
          "createdAt",
          "updatedAt"
        ]
      },
      "CreateNotificationRequest": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "minLength": 1,
            "description": "Type of notification",
            "example": "system_alert"
          },
          "title": {
            "type": "string",
            "minLength": 1,
            "description": "Notification title",
            "example": "System Maintenance"
          },
          "message": {
            "type": "string",
            "minLength": 1,
            "description": "Notification message content",
            "example": "The system will be under maintenance from 2 AM to 4 AM UTC."
          },
          "userId": {
            "type": "string",
            "minLength": 1,
            "description": "ID of the user who will receive the notification",
            "example": "user_123"
          },
          "data": {
            "type": "object",
            "nullable": true,
            "description": "Additional data (will be JSON stringified)",
            "example": {
              "maintenanceStart": "2024-01-16T02:00:00.000Z",
              "maintenanceEnd": "2024-01-16T04:00:00.000Z",
              "affectedServices": [
                "api",
                "dashboard"
              ]
            }
          }
        },
        "required": [
          "type",
          "title",
          "message",
          "userId"
        ]
      },
      "CreateNotificationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "notification": {
            "$ref": "#/components/schemas/Notification"
          }
        },
        "required": [
          "success",
          "notification"
        ]
      },
      "AdminCommentsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/CommentsData"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "CommentsData": {
        "type": "object",
        "properties": {
          "comments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AdminComment"
            },
            "description": "Array of comments with user information"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationInfo"
          }
        },
        "required": [
          "comments",
          "pagination"
        ]
      },
      "AdminComment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique comment identifier",
            "example": "comment_123"
          },
          "content": {
            "type": "string",
            "description": "Comment content/text",
            "example": "This is a great product! Really helpful for my workflow."
          },
          "rating": {
            "type": "integer",
            "nullable": true,
            "minimum": 1,
            "maximum": 5,
            "description": "Rating given with the comment (1-5 stars)",
            "example": 5
          },
          "userId": {
            "type": "string",
            "description": "ID of the user who wrote the comment",
            "example": "user_456"
          },
          "itemId": {
            "type": "string",
            "description": "ID of the item being commented on",
            "example": "item_789"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "When the comment was created",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "When the comment was last updated",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "user": {
            "$ref": "#/components/schemas/CommentUser"
          }
        },
        "required": [
          "id",
          "content",
          "userId",
          "itemId",
          "user"
        ]
      },
      "CommentUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID",
            "example": "user_456"
          },
          "name": {
            "type": "string",
            "nullable": true,
            "description": "User display name",
            "example": "John Doe"
          },
          "email": {
            "type": "string",
            "nullable": true,
            "description": "User email address",
            "example": "john@example.com"
          },
          "image": {
            "type": "string",
            "nullable": true,
            "format": "uri",
            "description": "User avatar/profile image URL",
            "example": "https://avatar.example.com/john.jpg"
          }
        },
        "required": [
          "id"
        ]
      },
      "GetAdminCommentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/AdminComment"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UpdateCommentRequest": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "minLength": 1,
            "description": "Updated comment content (required, non-empty)",
            "example": "This is an updated comment with more detailed feedback about the tool's features and usability."
          }
        },
        "required": [
          "content"
        ]
      },
      "UpdateAdminCommentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/AdminComment"
          },
          "message": {
            "type": "string",
            "example": "Comment updated successfully"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "DeleteCommentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Comment deleted successfully"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "AdminTagsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/TagListResponse"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "TagListResponse": {
        "type": "object",
        "properties": {
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TagWithCount"
            },
            "description": "Array of tags with optional count information"
          },
          "total": {
            "type": "integer",
            "description": "Total number of tags",
            "example": 156
          },
          "page": {
            "type": "integer",
            "description": "Current page number",
            "example": 1
          },
          "limit": {
            "type": "integer",
            "description": "Number of tags per page",
            "example": 10
          },
          "totalPages": {
            "type": "integer",
            "description": "Total number of pages",
            "example": 16
          }
        },
        "required": [
          "tags",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "TagWithCount": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique tag identifier (lowercase, hyphens, numbers only)",
            "example": "productivity"
          },
          "name": {
            "type": "string",
            "description": "Display name of the tag",
            "example": "Productivity"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the tag is active",
            "example": true
          },
          "count": {
            "type": "integer",
            "nullable": true,
            "description": "Number of items using this tag (optional)",
            "example": 45
          }
        },
        "required": [
          "id",
          "name",
          "isActive"
        ]
      },
      "CreateTagRequest": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "minLength": 2,
            "maxLength": 50,
            "pattern": "^[a-z0-9-]+$",
            "description": "Unique tag identifier (lowercase, hyphens, numbers only)",
            "example": "machine-learning"
          },
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 50,
            "description": "Display name of the tag",
            "example": "Machine Learning"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the tag is active",
            "default": true,
            "example": true
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "CreateTagResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "tag": {
            "$ref": "#/components/schemas/TagData"
          }
        },
        "required": [
          "success",
          "tag"
        ]
      },
      "TagData": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique tag identifier",
            "example": "machine-learning"
          },
          "name": {
            "type": "string",
            "description": "Display name of the tag",
            "example": "Machine Learning"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the tag is active",
            "example": true
          }
        },
        "required": [
          "id",
          "name",
          "isActive"
        ]
      },
      "GetTagResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/TagData"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UpdateTagRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 50,
            "description": "Updated display name of the tag",
            "example": "Enhanced Productivity"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the tag is active",
            "example": true
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdateTagResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/TagData"
          },
          "message": {
            "type": "string",
            "example": "Tag updated successfully"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "DeleteTagResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Tag deleted successfully"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique user identifier"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User's email address"
          },
          "username": {
            "type": "string",
            "nullable": true,
            "description": "User's username (optional)"
          },
          "name": {
            "type": "string",
            "nullable": true,
            "description": "User's display name (optional)"
          },
          "title": {
            "type": "string",
            "nullable": true,
            "description": "User's job title (optional)"
          },
          "avatar": {
            "type": "string",
            "format": "uri",
            "nullable": true,
            "description": "User's avatar URL (optional)"
          },
          "role": {
            "type": "string",
            "nullable": true,
            "description": "User's role ID (optional)"
          },
          "roleName": {
            "type": "string",
            "nullable": true,
            "description": "User's role display name (optional)"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "nullable": true,
            "description": "User's account status (optional)"
          },
          "created_by": {
            "type": "string",
            "nullable": true,
            "description": "ID of user who created this account (optional)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the user was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the user was last updated"
          }
        },
        "required": [
          "id",
          "email",
          "created_at",
          "updated_at"
        ]
      },
      "UsersResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/User"
            },
            "description": "Array of user objects"
          },
          "total": {
            "type": "integer",
            "description": "Total number of users"
          },
          "page": {
            "type": "integer",
            "description": "Current page number"
          },
          "limit": {
            "type": "integer",
            "description": "Items per page"
          },
          "totalPages": {
            "type": "integer",
            "description": "Total number of pages"
          }
        },
        "required": [
          "success",
          "data",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "CreateUserRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "minLength": 3,
            "maxLength": 30,
            "pattern": "^[a-zA-Z0-9_-]+$",
            "description": "Username (3-30 characters, alphanumeric + dash/underscore)"
          },
          "email": {
            "type": "string",
            "format": "email",
            "maxLength": 255,
            "description": "User's email address"
          },
          "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "User's display name (2-100 characters)"
          },
          "title": {
            "type": "string",
            "maxLength": 100,
            "description": "User's job title (optional, max 100 characters)"
          },
          "avatar": {
            "type": "string",
            "format": "uri",
            "maxLength": 500,
            "description": "User's avatar URL (optional, max 500 characters)"
          },
          "role": {
            "type": "string",
            "minLength": 1,
            "description": "User's role ID (must exist in system)"
          },
          "password": {
            "type": "string",
            "minLength": 8,
            "description": "User's password (minimum 8 characters)"
          }
        },
        "required": [
          "username",
          "email",
          "name",
          "role",
          "password"
        ]
      },
      "CreateUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/User"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "GetUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/User"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UpdateUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/User"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "DeleteUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "User deleted successfully"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "Item": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique item identifier"
          },
          "name": {
            "type": "string",
            "description": "Item name"
          },
          "slug": {
            "type": "string",
            "description": "URL-friendly item identifier"
          },
          "description": {
            "type": "string",
            "description": "Item description"
          },
          "source_url": {
            "type": "string",
            "format": "uri",
            "description": "URL to the item's source"
          },
          "category": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ],
            "description": "Item category (can be string or array of strings)"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Item tags"
          },
          "featured": {
            "type": "boolean",
            "description": "Whether the item is featured (optional)"
          },
          "icon_url": {
            "type": "string",
            "format": "uri",
            "nullable": true,
            "description": "URL to the item's icon (optional)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the item was last updated"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "pending",
              "approved",
              "rejected"
            ],
            "description": "Item status"
          },
          "submitted_by": {
            "type": "string",
            "nullable": true,
            "description": "ID of user who submitted the item (optional)"
          },
          "submitted_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "When the item was submitted (optional)"
          },
          "reviewed_by": {
            "type": "string",
            "nullable": true,
            "description": "ID of user who reviewed the item (optional)"
          },
          "reviewed_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "When the item was reviewed (optional)"
          },
          "review_notes": {
            "type": "string",
            "nullable": true,
            "description": "Review notes (optional)"
          }
        },
        "required": [
          "id",
          "name",
          "slug",
          "description",
          "source_url",
          "category",
          "tags",
          "updated_at",
          "status"
        ]
      },
      "ItemsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Item"
            },
            "description": "Array of item objects"
          },
          "total": {
            "type": "integer",
            "description": "Total number of items"
          },
          "page": {
            "type": "integer",
            "description": "Current page number"
          },
          "limit": {
            "type": "integer",
            "description": "Items per page"
          },
          "totalPages": {
            "type": "integer",
            "description": "Total number of pages"
          }
        },
        "required": [
          "success",
          "items",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "CreateItemRequest": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "minLength": 3,
            "maxLength": 50,
            "description": "Unique item identifier (required, 3-50 characters)"
          },
          "name": {
            "type": "string",
            "minLength": 3,
            "maxLength": 100,
            "description": "Item name (required, 3-100 characters)"
          },
          "slug": {
            "type": "string",
            "minLength": 3,
            "maxLength": 50,
            "pattern": "^[a-z0-9-]+$",
            "description": "URL-friendly identifier (required, lowercase letters, numbers, hyphens only)"
          },
          "description": {
            "type": "string",
            "minLength": 10,
            "maxLength": 500,
            "description": "Item description (required, 10-500 characters)"
          },
          "source_url": {
            "type": "string",
            "format": "uri",
            "description": "URL to the item's source (required, valid URL format)"
          },
          "category": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ],
            "description": "Item category (optional, can be string or array of strings)"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Item tags (optional, array of strings)"
          },
          "featured": {
            "type": "boolean",
            "description": "Whether the item is featured (optional, defaults to false)"
          },
          "icon_url": {
            "type": "string",
            "format": "uri",
            "description": "URL to the item's icon (optional)"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "pending",
              "approved",
              "rejected"
            ],
            "description": "Item status (optional, defaults to 'draft')"
          }
        },
        "required": [
          "id",
          "name",
          "slug",
          "description",
          "source_url"
        ]
      },
      "CreateItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "item": {
            "$ref": "#/components/schemas/Item"
          },
          "message": {
            "type": "string",
            "description": "Success message"
          }
        },
        "required": [
          "success",
          "item",
          "message"
        ]
      },
      "GetItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Item"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UpdateItemRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 3,
            "maxLength": 100,
            "description": "Updated item name (optional, 3-100 characters)"
          },
          "slug": {
            "type": "string",
            "minLength": 3,
            "maxLength": 50,
            "pattern": "^[a-z0-9-]+$",
            "description": "Updated URL-friendly identifier (optional, lowercase letters, numbers, hyphens only)"
          },
          "description": {
            "type": "string",
            "minLength": 10,
            "maxLength": 500,
            "description": "Updated item description (optional, 10-500 characters)"
          },
          "source_url": {
            "type": "string",
            "format": "uri",
            "description": "Updated URL to the item's source (optional, valid URL format)"
          },
          "category": {
            "oneOf": [
              {
                "type": "string",
                "description": "Single category as string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Multiple categories as array"
              }
            ],
            "description": "Updated item categories (optional)"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Updated item tags (optional)"
          },
          "featured": {
            "type": "boolean",
            "description": "Updated featured status (optional)"
          },
          "icon_url": {
            "type": "string",
            "format": "uri",
            "nullable": true,
            "description": "Updated icon URL (optional, valid URL format or null)"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "pending",
              "approved",
              "rejected"
            ],
            "description": "Updated item status (optional)"
          },
          "review_notes": {
            "type": "string",
            "nullable": true,
            "description": "Updated review notes (optional)"
          }
        }
      },
      "UpdateItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Item"
          },
          "message": {
            "type": "string",
            "example": "Item updated successfully"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "DeleteItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Item deleted successfully"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "GetCommentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/CommentWithUser"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UpdateCommentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/CommentWithUser"
          },
          "message": {
            "type": "string",
            "example": "Comment updated successfully"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "ReviewItemRequest": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "approved",
              "rejected"
            ],
            "description": "Review decision - approve or reject the item"
          },
          "review_notes": {
            "type": "string",
            "nullable": true,
            "description": "Optional notes explaining the review decision",
            "example": "Great tool, meets all requirements. Approved for listing."
          }
        },
        "required": [
          "status"
        ]
      },
      "ReviewItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Item"
          },
          "message": {
            "type": "string",
            "example": "Item approved successfully"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "Role": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique role identifier (auto-generated from name)"
          },
          "name": {
            "type": "string",
            "description": "Role display name"
          },
          "description": {
            "type": "string",
            "description": "Role description"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "Role status"
          },
          "isAdmin": {
            "type": "boolean",
            "description": "Whether this role has admin privileges"
          },
          "permissions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of permission strings (currently empty)"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "status",
          "isAdmin",
          "permissions"
        ]
      },
      "RolesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "roles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Role"
            },
            "description": "Array of role objects"
          },
          "total": {
            "type": "integer",
            "description": "Total number of roles"
          },
          "page": {
            "type": "integer",
            "description": "Current page number"
          },
          "limit": {
            "type": "integer",
            "description": "Items per page"
          },
          "totalPages": {
            "type": "integer",
            "description": "Total number of pages"
          }
        },
        "required": [
          "success",
          "roles",
          "total",
          "page",
          "limit",
          "totalPages"
        ]
      },
      "CreateRoleRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 3,
            "maxLength": 100,
            "description": "Role name (required, 3-100 characters)"
          },
          "description": {
            "type": "string",
            "maxLength": 500,
            "description": "Role description (required, max 500 characters)"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "Role status (optional, defaults to 'active')"
          },
          "isAdmin": {
            "type": "boolean",
            "description": "Whether this role has admin privileges (optional, defaults to false)"
          }
        },
        "required": [
          "name",
          "description"
        ]
      },
      "CreateRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Role"
          },
          "message": {
            "type": "string",
            "description": "Success message"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "GetRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Role"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UpdateRoleRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 3,
            "maxLength": 100,
            "description": "Updated role name (optional, 3-100 characters)"
          },
          "description": {
            "type": "string",
            "maxLength": 500,
            "description": "Updated role description (optional, max 500 characters)"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "Updated role status (optional)"
          },
          "isAdmin": {
            "type": "boolean",
            "description": "Updated admin privileges (optional)"
          }
        }
      },
      "UpdateRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Role"
          },
          "message": {
            "type": "string",
            "example": "Role updated successfully"
          }
        },
        "required": [
          "success",
          "data",
          "message"
        ]
      },
      "DeleteRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Role deleted (marked as inactive)"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "CheckoutRequest": {
        "type": "object",
        "properties": {
          "priceId": {
            "type": "string",
            "description": "Stripe price ID"
          },
          "mode": {
            "type": "string",
            "enum": [
              "payment",
              "subscription",
              "setup"
            ],
            "default": "subscription",
            "description": "Checkout mode"
          },
          "trialPeriodDays": {
            "type": "integer",
            "minimum": 0,
            "default": 0,
            "description": "Trial period in days for subscriptions"
          },
          "billingInterval": {
            "type": "string",
            "enum": [
              "month",
              "year"
            ],
            "default": "month",
            "description": "Billing interval for subscriptions"
          },
          "successUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL to redirect after successful payment"
          },
          "cancelUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL to redirect after cancelled payment"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Additional metadata for the checkout session"
          }
        },
        "required": [
          "priceId"
        ]
      },
      "CheckoutResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "sessionId": {
            "type": "string",
            "description": "Stripe checkout session ID"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Checkout session URL"
          }
        },
        "required": [
          "success",
          "sessionId",
          "url"
        ]
      },
      "Subscription": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Stripe subscription ID"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "canceled",
              "incomplete",
              "incomplete_expired",
              "past_due",
              "trialing",
              "unpaid"
            ],
            "description": "Subscription status"
          },
          "current_period_start": {
            "type": "integer",
            "description": "Unix timestamp of current period start"
          },
          "current_period_end": {
            "type": "integer",
            "description": "Unix timestamp of current period end"
          },
          "plan": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "Stripe price ID"
              },
              "nickname": {
                "type": "string",
                "description": "Plan display name"
              },
              "amount": {
                "type": "integer",
                "description": "Plan amount in cents"
              },
              "currency": {
                "type": "string",
                "description": "Plan currency"
              },
              "interval": {
                "type": "string",
                "enum": [
                  "month",
                  "year"
                ],
                "description": "Billing interval"
              }
            },
            "required": [
              "id",
              "amount",
              "currency",
              "interval"
            ]
          }
        },
        "required": [
          "id",
          "status",
          "current_period_start",
          "current_period_end",
          "plan"
        ]
      },
      "SubscriptionsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "subscriptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Subscription"
            }
          }
        },
        "required": [
          "success",
          "subscriptions"
        ]
      },
      "ChangePasswordRequest": {
        "type": "object",
        "properties": {
          "currentPassword": {
            "type": "string",
            "minLength": 1,
            "description": "User's current password (required, non-empty)"
          },
          "newPassword": {
            "type": "string",
            "minLength": 8,
            "pattern": "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^A-Za-z0-9]).{8,}$",
            "description": "New password (min 8 chars, must contain: uppercase letter, lowercase letter, number, and special character)",
            "example": "MyNewPass123!"
          },
          "confirmPassword": {
            "type": "string",
            "minLength": 8,
            "description": "Confirmation of new password (must exactly match newPassword)",
            "example": "MyNewPass123!"
          }
        },
        "required": [
          "currentPassword",
          "newPassword",
          "confirmPassword"
        ]
      },
      "LemonSqueezyCheckoutRequest": {
        "type": "object",
        "properties": {
          "variantId": {
            "type": "string",
            "description": "LemonSqueezy variant ID for the product"
          },
          "customPrice": {
            "type": "integer",
            "minimum": 0,
            "description": "Custom price in cents (optional)"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Additional metadata for the checkout"
          }
        },
        "required": [
          "variantId"
        ]
      },
      "LemonSqueezyCheckoutResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "checkoutUrl": {
            "type": "string",
            "format": "uri",
            "description": "LemonSqueezy checkout URL"
          }
        },
        "required": [
          "success",
          "checkoutUrl"
        ]
      },
      "LemonSqueezySubscription": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "LemonSqueezy subscription ID"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "cancelled",
              "expired",
              "on_trial",
              "paused",
              "past_due",
              "unpaid"
            ],
            "description": "Subscription status"
          },
          "customer_email": {
            "type": "string",
            "format": "email",
            "description": "Customer email address"
          },
          "product_name": {
            "type": "string",
            "description": "Product name"
          },
          "variant_name": {
            "type": "string",
            "description": "Variant name (e.g., Monthly, Yearly)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the subscription was created"
          },
          "renews_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "When the subscription renews (null if cancelled)"
          }
        },
        "required": [
          "id",
          "status",
          "customer_email",
          "product_name",
          "variant_name",
          "created_at"
        ]
      },
      "LemonSqueezySubscriptionsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "subscriptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LemonSqueezySubscription"
            }
          },
          "meta": {
            "type": "object",
            "properties": {
              "page": {
                "type": "integer",
                "description": "Current page number"
              },
              "per_page": {
                "type": "integer",
                "description": "Items per page"
              },
              "total": {
                "type": "integer",
                "description": "Total number of subscriptions"
              }
            },
            "required": [
              "page",
              "per_page",
              "total"
            ]
          }
        },
        "required": [
          "success",
          "subscriptions",
          "meta"
        ]
      }
    },
    "responses": {
      "BadRequest": {
        "description": "Bad request - invalid input data",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": "Invalid request data",
              "details": "itemSlug is required"
            }
          }
        }
      },
      "Unauthorized": {
        "description": "Unauthorized - authentication required",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": "Unauthorized"
            }
          }
        }
      },
      "ServerError": {
        "description": "Internal server error",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": "Internal server error"
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Authentication",
      "description": "User authentication and session management"
    },
    {
      "name": "Favorites",
      "description": "User favorites management"
    },
    {
      "name": "Featured Items",
      "description": "Featured content management"
    },
    {
      "name": "Utilities",
      "description": "Utility endpoints"
    },
    {
      "name": "Admin - Categories",
      "description": "Admin endpoints for category management"
    },
    {
      "name": "Version",
      "description": "Version and repository information"
    },
    {
      "name": "Payments - Stripe",
      "description": "Stripe payment method management"
    },
    {
      "name": "Payments - LemonSqueezy",
      "description": "LemonSqueezy payment processing"
    },
    {
      "name": "Items & Content",
      "description": "Item management, comments, and voting"
    },
    {
      "name": "Admin - Users",
      "description": "Admin endpoints for user management"
    },
    {
      "name": "Admin - Items",
      "description": "Admin endpoints for item management"
    },
    {
      "name": "Admin - Comments",
      "description": "Admin endpoints for comment management"
    },
    {
      "name": "User Management",
      "description": "User profile and subscription management"
    }
  ]
}